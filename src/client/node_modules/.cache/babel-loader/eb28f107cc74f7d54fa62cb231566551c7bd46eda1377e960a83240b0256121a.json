{"ast":null,"code":"import _objectSpread from \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport Portal from '@rc-component/portal';\nimport useLayoutEffect from \"@rc-component/util/es/hooks/useLayoutEffect\";\nimport * as React from 'react';\nimport { RefContext } from \"./context\";\nimport DrawerPopup from \"./DrawerPopup\";\nimport { warnCheck } from \"./util\";\nconst Drawer = props => {\n  const {\n    open = false,\n    prefixCls = 'rc-drawer',\n    placement = 'right',\n    autoFocus = true,\n    keyboard = true,\n    width,\n    height,\n    size,\n    maxSize,\n    mask = true,\n    maskClosable = true,\n    getContainer,\n    forceRender,\n    afterOpenChange,\n    destroyOnHidden,\n    onMouseEnter,\n    onMouseOver,\n    onMouseLeave,\n    onClick,\n    onKeyDown,\n    onKeyUp,\n    onClose,\n    resizable,\n    defaultSize,\n    focusTriggerAfterClose,\n    // Refs\n    panelRef\n  } = props;\n  const [animatedVisible, setAnimatedVisible] = React.useState(false);\n\n  // ============================= Warn =============================\n  if (process.env.NODE_ENV !== 'production') {\n    warnCheck(props);\n  }\n\n  // ============================= Open =============================\n  const [mounted, setMounted] = React.useState(false);\n  useLayoutEffect(() => {\n    setMounted(true);\n  }, []);\n  const mergedOpen = mounted ? open : false;\n\n  // ============================ Focus =============================\n  const popupRef = React.useRef(null);\n  const lastActiveRef = React.useRef(null);\n  useLayoutEffect(() => {\n    if (mergedOpen) {\n      lastActiveRef.current = document.activeElement;\n    }\n  }, [mergedOpen]);\n\n  // ============================= Open =============================\n  const internalAfterOpenChange = nextVisible => {\n    var _popupRef$current;\n    setAnimatedVisible(nextVisible);\n    afterOpenChange === null || afterOpenChange === void 0 || afterOpenChange(nextVisible);\n    if (!nextVisible && focusTriggerAfterClose !== false && lastActiveRef.current && !((_popupRef$current = popupRef.current) !== null && _popupRef$current !== void 0 && _popupRef$current.contains(lastActiveRef.current))) {\n      var _lastActiveRef$curren;\n      (_lastActiveRef$curren = lastActiveRef.current) === null || _lastActiveRef$curren === void 0 || _lastActiveRef$curren.focus({\n        preventScroll: true\n      });\n    }\n  };\n\n  // =========================== Context ============================\n  const refContext = React.useMemo(() => ({\n    panel: panelRef\n  }), [panelRef]);\n\n  // ============================ Render ============================\n  if (!forceRender && !animatedVisible && !mergedOpen && destroyOnHidden) {\n    return null;\n  }\n  const eventHandlers = {\n    onMouseEnter,\n    onMouseOver,\n    onMouseLeave,\n    onClick,\n    onKeyDown,\n    onKeyUp\n  };\n  const drawerPopupProps = _objectSpread(_objectSpread({}, props), {}, {\n    open: mergedOpen,\n    prefixCls,\n    placement,\n    autoFocus,\n    keyboard,\n    width,\n    height,\n    size,\n    maxSize,\n    defaultSize,\n    mask,\n    maskClosable,\n    inline: getContainer === false,\n    afterOpenChange: internalAfterOpenChange,\n    ref: popupRef,\n    resizable\n  }, eventHandlers);\n  const onEsc = _ref => {\n    let {\n      top,\n      event\n    } = _ref;\n    if (top && keyboard) {\n      event.stopPropagation();\n      onClose === null || onClose === void 0 || onClose(event);\n    }\n  };\n  return /*#__PURE__*/React.createElement(RefContext.Provider, {\n    value: refContext\n  }, /*#__PURE__*/React.createElement(Portal, {\n    open: mergedOpen || forceRender || animatedVisible,\n    autoDestroy: false,\n    getContainer: getContainer,\n    autoLock: mask && (mergedOpen || animatedVisible),\n    onEsc: onEsc\n  }, /*#__PURE__*/React.createElement(DrawerPopup, drawerPopupProps)));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Drawer.displayName = 'Drawer';\n}\nexport default Drawer;","map":{"version":3,"names":["Portal","useLayoutEffect","React","RefContext","DrawerPopup","warnCheck","Drawer","props","open","prefixCls","placement","autoFocus","keyboard","width","height","size","maxSize","mask","maskClosable","getContainer","forceRender","afterOpenChange","destroyOnHidden","onMouseEnter","onMouseOver","onMouseLeave","onClick","onKeyDown","onKeyUp","onClose","resizable","defaultSize","focusTriggerAfterClose","panelRef","animatedVisible","setAnimatedVisible","useState","process","env","NODE_ENV","mounted","setMounted","mergedOpen","popupRef","useRef","lastActiveRef","current","document","activeElement","internalAfterOpenChange","nextVisible","_popupRef$current","contains","_lastActiveRef$curren","focus","preventScroll","refContext","useMemo","panel","eventHandlers","drawerPopupProps","_objectSpread","inline","ref","onEsc","_ref","top","event","stopPropagation","createElement","Provider","value","autoDestroy","autoLock","displayName"],"sources":["/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@rc-component/drawer/es/Drawer.js"],"sourcesContent":["import Portal from '@rc-component/portal';\nimport useLayoutEffect from \"@rc-component/util/es/hooks/useLayoutEffect\";\nimport * as React from 'react';\nimport { RefContext } from \"./context\";\nimport DrawerPopup from \"./DrawerPopup\";\nimport { warnCheck } from \"./util\";\nconst Drawer = props => {\n  const {\n    open = false,\n    prefixCls = 'rc-drawer',\n    placement = 'right',\n    autoFocus = true,\n    keyboard = true,\n    width,\n    height,\n    size,\n    maxSize,\n    mask = true,\n    maskClosable = true,\n    getContainer,\n    forceRender,\n    afterOpenChange,\n    destroyOnHidden,\n    onMouseEnter,\n    onMouseOver,\n    onMouseLeave,\n    onClick,\n    onKeyDown,\n    onKeyUp,\n    onClose,\n    resizable,\n    defaultSize,\n    focusTriggerAfterClose,\n    // Refs\n    panelRef\n  } = props;\n  const [animatedVisible, setAnimatedVisible] = React.useState(false);\n\n  // ============================= Warn =============================\n  if (process.env.NODE_ENV !== 'production') {\n    warnCheck(props);\n  }\n\n  // ============================= Open =============================\n  const [mounted, setMounted] = React.useState(false);\n  useLayoutEffect(() => {\n    setMounted(true);\n  }, []);\n  const mergedOpen = mounted ? open : false;\n\n  // ============================ Focus =============================\n  const popupRef = React.useRef(null);\n  const lastActiveRef = React.useRef(null);\n  useLayoutEffect(() => {\n    if (mergedOpen) {\n      lastActiveRef.current = document.activeElement;\n    }\n  }, [mergedOpen]);\n\n  // ============================= Open =============================\n  const internalAfterOpenChange = nextVisible => {\n    setAnimatedVisible(nextVisible);\n    afterOpenChange?.(nextVisible);\n    if (!nextVisible && focusTriggerAfterClose !== false && lastActiveRef.current && !popupRef.current?.contains(lastActiveRef.current)) {\n      lastActiveRef.current?.focus({\n        preventScroll: true\n      });\n    }\n  };\n\n  // =========================== Context ============================\n  const refContext = React.useMemo(() => ({\n    panel: panelRef\n  }), [panelRef]);\n\n  // ============================ Render ============================\n  if (!forceRender && !animatedVisible && !mergedOpen && destroyOnHidden) {\n    return null;\n  }\n  const eventHandlers = {\n    onMouseEnter,\n    onMouseOver,\n    onMouseLeave,\n    onClick,\n    onKeyDown,\n    onKeyUp\n  };\n  const drawerPopupProps = {\n    ...props,\n    open: mergedOpen,\n    prefixCls,\n    placement,\n    autoFocus,\n    keyboard,\n    width,\n    height,\n    size,\n    maxSize,\n    defaultSize,\n    mask,\n    maskClosable,\n    inline: getContainer === false,\n    afterOpenChange: internalAfterOpenChange,\n    ref: popupRef,\n    resizable,\n    ...eventHandlers\n  };\n  const onEsc = ({\n    top,\n    event\n  }) => {\n    if (top && keyboard) {\n      event.stopPropagation();\n      onClose?.(event);\n    }\n  };\n  return /*#__PURE__*/React.createElement(RefContext.Provider, {\n    value: refContext\n  }, /*#__PURE__*/React.createElement(Portal, {\n    open: mergedOpen || forceRender || animatedVisible,\n    autoDestroy: false,\n    getContainer: getContainer,\n    autoLock: mask && (mergedOpen || animatedVisible),\n    onEsc: onEsc\n  }, /*#__PURE__*/React.createElement(DrawerPopup, drawerPopupProps)));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Drawer.displayName = 'Drawer';\n}\nexport default Drawer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}