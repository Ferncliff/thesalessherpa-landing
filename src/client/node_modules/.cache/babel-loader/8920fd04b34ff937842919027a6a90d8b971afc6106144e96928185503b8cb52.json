{"ast":null,"code":"import _objectSpread from \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"id\", \"mode\", \"prefixCls\", \"backfill\", \"fieldNames\", \"showSearch\", \"searchValue\", \"onSearch\", \"autoClearSearchValue\", \"filterOption\", \"optionFilterProp\", \"filterSort\", \"onSelect\", \"onDeselect\", \"onActive\", \"popupMatchSelectWidth\", \"optionLabelProp\", \"options\", \"optionRender\", \"children\", \"defaultActiveFirstOption\", \"menuItemSelectedIcon\", \"virtual\", \"direction\", \"listHeight\", \"listItemHeight\", \"labelRender\", \"value\", \"defaultValue\", \"labelInValue\", \"onChange\", \"maxCount\", \"classNames\", \"styles\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n/**\n * To match accessibility requirement, we always provide an input in the component.\n * Other element will not set `tabIndex` to avoid `onBlur` sequence problem.\n * For focused select, we set `aria-live=\"polite\"` to update the accessibility content.\n *\n * ref:\n * - keyboard: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role#Keyboard_interactions\n *\n * New api:\n * - listHeight\n * - listItemHeight\n * - component\n *\n * Remove deprecated api:\n * - multiple\n * - tags\n * - combobox\n * - firstActiveValue\n * - dropdownMenuStyle\n * - openClassName (Not list in api)\n *\n * Update:\n * - `backfill` only support `combobox` mode\n * - `combobox` mode not support `labelInValue` since it's meaningless\n * - `getInputElement` only support `combobox` mode\n * - `onChange` return OptionData instead of ReactNode\n * - `filterOption` `onChange` `onSelect` accept OptionData instead of ReactNode\n * - `combobox` mode trigger `onChange` will get `undefined` if no `value` match in Option\n * - `combobox` mode not support `optionLabelProp`\n */\n\nimport useControlledState from \"@rc-component/util/es/hooks/useControlledState\";\nimport warning from \"@rc-component/util/es/warning\";\nimport * as React from 'react';\nimport BaseSelect, { isMultiple } from \"./BaseSelect\";\nimport OptGroup from \"./OptGroup\";\nimport Option from \"./Option\";\nimport OptionList from \"./OptionList\";\nimport SelectContext from \"./SelectContext\";\nimport useCache from \"./hooks/useCache\";\nimport useFilterOptions from \"./hooks/useFilterOptions\";\nimport useId from \"@rc-component/util/es/hooks/useId\";\nimport useOptions from \"./hooks/useOptions\";\nimport useRefFunc from \"./hooks/useRefFunc\";\nimport { hasValue, isComboNoValue, toArray } from \"./utils/commonUtil\";\nimport { fillFieldNames, flattenOptions, injectPropsWithOption } from \"./utils/valueUtil\";\nimport warningProps, { warningNullOptions } from \"./utils/warningPropsUtil\";\nimport useSearchConfig from \"./hooks/useSearchConfig\";\nconst OMIT_DOM_PROPS = ['inputValue'];\nfunction isRawValue(value) {\n  return !value || typeof value !== 'object';\n}\nconst Select = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n      id,\n      mode,\n      prefixCls = 'rc-select',\n      backfill,\n      fieldNames,\n      // Search\n      showSearch,\n      searchValue: legacySearchValue,\n      onSearch: legacyOnSearch,\n      autoClearSearchValue: legacyAutoClearSearchValue,\n      filterOption: legacyFilterOption,\n      optionFilterProp: legacyOptionFilterProp,\n      filterSort: legacyFilterSort,\n      // Select\n      onSelect,\n      onDeselect,\n      onActive,\n      popupMatchSelectWidth = true,\n      optionLabelProp,\n      options,\n      optionRender,\n      children,\n      defaultActiveFirstOption,\n      menuItemSelectedIcon,\n      virtual,\n      direction,\n      listHeight = 200,\n      listItemHeight = 20,\n      labelRender,\n      // Value\n      value,\n      defaultValue,\n      labelInValue,\n      onChange,\n      maxCount,\n      classNames,\n      styles\n    } = props,\n    restProps = _objectWithoutProperties(props, _excluded);\n  const searchProps = {\n    searchValue: legacySearchValue,\n    onSearch: legacyOnSearch,\n    autoClearSearchValue: legacyAutoClearSearchValue,\n    filterOption: legacyFilterOption,\n    optionFilterProp: legacyOptionFilterProp,\n    filterSort: legacyFilterSort\n  };\n  const [mergedShowSearch, searchConfig] = useSearchConfig(showSearch, searchProps, mode);\n  const {\n    filterOption,\n    searchValue,\n    optionFilterProp,\n    filterSort,\n    onSearch,\n    autoClearSearchValue = true\n  } = searchConfig;\n  const normalizedOptionFilterProp = React.useMemo(() => {\n    if (!optionFilterProp) return [];\n    return Array.isArray(optionFilterProp) ? optionFilterProp : [optionFilterProp];\n  }, [optionFilterProp]);\n  const mergedId = useId(id);\n  const multiple = isMultiple(mode);\n  const childrenAsData = !!(!options && children);\n  const mergedFilterOption = React.useMemo(() => {\n    if (filterOption === undefined && mode === 'combobox') {\n      return false;\n    }\n    return filterOption;\n  }, [filterOption, mode]);\n\n  // ========================= FieldNames =========================\n  const mergedFieldNames = React.useMemo(() => fillFieldNames(fieldNames, childrenAsData), /* eslint-disable react-hooks/exhaustive-deps */\n  [\n  // We stringify fieldNames to avoid unnecessary re-renders.\n  JSON.stringify(fieldNames), childrenAsData]\n  /* eslint-enable react-hooks/exhaustive-deps */);\n\n  // =========================== Search ===========================\n  const [internalSearchValue, setSearchValue] = useControlledState('', searchValue);\n  const mergedSearchValue = internalSearchValue || '';\n\n  // =========================== Option ===========================\n  const parsedOptions = useOptions(options, children, mergedFieldNames, normalizedOptionFilterProp, optionLabelProp);\n  const {\n    valueOptions,\n    labelOptions,\n    options: mergedOptions\n  } = parsedOptions;\n\n  // ========================= Wrap Value =========================\n  const convert2LabelValues = React.useCallback(draftValues => {\n    // Convert to array\n    const valueList = toArray(draftValues);\n\n    // Convert to labelInValue type\n    return valueList.map(val => {\n      let rawValue;\n      let rawLabel;\n      let rawDisabled;\n      let rawTitle;\n\n      // Fill label & value\n      if (isRawValue(val)) {\n        rawValue = val;\n      } else {\n        rawLabel = val.label;\n        rawValue = val.value;\n      }\n      const option = valueOptions.get(rawValue);\n      if (option) {\n        // Fill missing props\n        if (rawLabel === undefined) rawLabel = option === null || option === void 0 ? void 0 : option[optionLabelProp || mergedFieldNames.label];\n        rawDisabled = option === null || option === void 0 ? void 0 : option.disabled;\n        rawTitle = option === null || option === void 0 ? void 0 : option.title;\n\n        // Warning if label not same as provided\n        if (process.env.NODE_ENV !== 'production' && !optionLabelProp) {\n          const optionLabel = option === null || option === void 0 ? void 0 : option[mergedFieldNames.label];\n          if (optionLabel !== undefined && ! /*#__PURE__*/React.isValidElement(optionLabel) && ! /*#__PURE__*/React.isValidElement(rawLabel) && optionLabel !== rawLabel) {\n            warning(false, '`label` of `value` is not same as `label` in Select options.');\n          }\n        }\n      }\n      return {\n        label: rawLabel,\n        value: rawValue,\n        key: rawValue,\n        disabled: rawDisabled,\n        title: rawTitle\n      };\n    });\n  }, [mergedFieldNames, optionLabelProp, valueOptions]);\n\n  // =========================== Values ===========================\n  const [internalValue, setInternalValue] = useControlledState(defaultValue, value);\n\n  // Merged value with LabelValueType\n  const rawLabeledValues = React.useMemo(() => {\n    var _values$;\n    const newInternalValue = multiple && internalValue === null ? [] : internalValue;\n    const values = convert2LabelValues(newInternalValue);\n\n    // combobox no need save value when it's no value (exclude value equal 0)\n    if (mode === 'combobox' && isComboNoValue((_values$ = values[0]) === null || _values$ === void 0 ? void 0 : _values$.value)) {\n      return [];\n    }\n    return values;\n  }, [internalValue, convert2LabelValues, mode, multiple]);\n\n  // Fill label with cache to avoid option remove\n  const [mergedValues, getMixedOption] = useCache(rawLabeledValues, valueOptions);\n  const displayValues = React.useMemo(() => {\n    // `null` need show as placeholder instead\n    // https://github.com/ant-design/ant-design/issues/25057\n    if (!mode && mergedValues.length === 1) {\n      const firstValue = mergedValues[0];\n      if (firstValue.value === null && (firstValue.label === null || firstValue.label === undefined)) {\n        return [];\n      }\n    }\n    return mergedValues.map(item => {\n      var _ref;\n      return _objectSpread(_objectSpread({}, item), {}, {\n        label: (_ref = typeof labelRender === 'function' ? labelRender(item) : item.label) !== null && _ref !== void 0 ? _ref : item.value\n      });\n    });\n  }, [mode, mergedValues, labelRender]);\n\n  /** Convert `displayValues` to raw value type set */\n  const rawValues = React.useMemo(() => new Set(mergedValues.map(val => val.value)), [mergedValues]);\n  React.useEffect(() => {\n    if (mode === 'combobox') {\n      var _mergedValues$;\n      const strValue = (_mergedValues$ = mergedValues[0]) === null || _mergedValues$ === void 0 ? void 0 : _mergedValues$.value;\n      setSearchValue(hasValue(strValue) ? String(strValue) : '');\n    }\n  }, [mergedValues]);\n\n  // ======================= Display Option =======================\n  // Create a placeholder item if not exist in `options`\n  const createTagOption = useRefFunc((val, label) => {\n    const mergedLabel = label !== null && label !== void 0 ? label : val;\n    return {\n      [mergedFieldNames.value]: val,\n      [mergedFieldNames.label]: mergedLabel\n    };\n  });\n\n  // Fill tag as option if mode is `tags`\n  const filledTagOptions = React.useMemo(() => {\n    if (mode !== 'tags') {\n      return mergedOptions;\n    }\n\n    // >>> Tag mode\n    const cloneOptions = [...mergedOptions];\n\n    // Check if value exist in options (include new patch item)\n    const existOptions = val => valueOptions.has(val);\n\n    // Fill current value as option\n    [...mergedValues].sort((a, b) => a.value < b.value ? -1 : 1).forEach(item => {\n      const val = item.value;\n      if (!existOptions(val)) {\n        cloneOptions.push(createTagOption(val, item.label));\n      }\n    });\n    return cloneOptions;\n  }, [createTagOption, mergedOptions, valueOptions, mergedValues, mode]);\n  const filteredOptions = useFilterOptions(filledTagOptions, mergedFieldNames, mergedSearchValue, mergedFilterOption, normalizedOptionFilterProp);\n\n  // Fill options with search value if needed\n  const filledSearchOptions = React.useMemo(() => {\n    const hasItemMatchingSearch = item => {\n      if (normalizedOptionFilterProp.length) {\n        return normalizedOptionFilterProp.some(prop => (item === null || item === void 0 ? void 0 : item[prop]) === mergedSearchValue);\n      }\n      return (item === null || item === void 0 ? void 0 : item.value) === mergedSearchValue;\n    };\n    if (mode !== 'tags' || !mergedSearchValue || filteredOptions.some(item => hasItemMatchingSearch(item))) {\n      return filteredOptions;\n    }\n    // ignore when search value equal select input value\n    if (filteredOptions.some(item => item[mergedFieldNames.value] === mergedSearchValue)) {\n      return filteredOptions;\n    }\n    // Fill search value as option\n    return [createTagOption(mergedSearchValue), ...filteredOptions];\n  }, [createTagOption, normalizedOptionFilterProp, mode, filteredOptions, mergedSearchValue, mergedFieldNames]);\n  const sorter = inputOptions => {\n    const sortedOptions = [...inputOptions].sort((a, b) => filterSort(a, b, {\n      searchValue: mergedSearchValue\n    }));\n    return sortedOptions.map(item => {\n      if (Array.isArray(item.options)) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          options: item.options.length > 0 ? sorter(item.options) : item.options\n        });\n      }\n      return item;\n    });\n  };\n  const orderedFilteredOptions = React.useMemo(() => {\n    if (!filterSort) {\n      return filledSearchOptions;\n    }\n    return sorter(filledSearchOptions);\n  }, [filledSearchOptions, filterSort, mergedSearchValue]);\n  const displayOptions = React.useMemo(() => flattenOptions(orderedFilteredOptions, {\n    fieldNames: mergedFieldNames,\n    childrenAsData\n  }), [orderedFilteredOptions, mergedFieldNames, childrenAsData]);\n\n  // =========================== Change ===========================\n  const triggerChange = values => {\n    const labeledValues = convert2LabelValues(values);\n    setInternalValue(labeledValues);\n    if (onChange && (\n    // Trigger event only when value changed\n    labeledValues.length !== mergedValues.length || labeledValues.some((newVal, index) => {\n      var _mergedValues$index;\n      return ((_mergedValues$index = mergedValues[index]) === null || _mergedValues$index === void 0 ? void 0 : _mergedValues$index.value) !== (newVal === null || newVal === void 0 ? void 0 : newVal.value);\n    }))) {\n      const returnValues = labelInValue ? labeledValues.map(_ref2 => {\n        let {\n          label: l,\n          value: v\n        } = _ref2;\n        return {\n          label: l,\n          value: v\n        };\n      }) : labeledValues.map(v => v.value);\n      const returnOptions = labeledValues.map(v => injectPropsWithOption(getMixedOption(v.value)));\n      onChange(\n      // Value\n      multiple ? returnValues : returnValues[0],\n      // Option\n      multiple ? returnOptions : returnOptions[0]);\n    }\n  };\n\n  // ======================= Accessibility ========================\n  const [activeValue, setActiveValue] = React.useState(null);\n  const [accessibilityIndex, setAccessibilityIndex] = React.useState(0);\n  const mergedDefaultActiveFirstOption = defaultActiveFirstOption !== undefined ? defaultActiveFirstOption : mode !== 'combobox';\n  const activeEventRef = React.useRef();\n  const onActiveValue = React.useCallback(function (active, index) {\n    let {\n      source = 'keyboard'\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    setAccessibilityIndex(index);\n    if (backfill && mode === 'combobox' && active !== null && source === 'keyboard') {\n      setActiveValue(String(active));\n    }\n\n    // Active will call multiple times.\n    // We only need trigger the last one.\n    const promise = Promise.resolve().then(() => {\n      if (activeEventRef.current === promise) {\n        onActive === null || onActive === void 0 || onActive(active);\n      }\n    });\n    activeEventRef.current = promise;\n  }, [backfill, mode, onActive]);\n\n  // ========================= OptionList =========================\n  const triggerSelect = (val, selected, type) => {\n    const getSelectEnt = () => {\n      const option = getMixedOption(val);\n      return [labelInValue ? {\n        label: option === null || option === void 0 ? void 0 : option[mergedFieldNames.label],\n        value: val\n      } : val, injectPropsWithOption(option)];\n    };\n    if (selected && onSelect) {\n      const [wrappedValue, option] = getSelectEnt();\n      onSelect(wrappedValue, option);\n    } else if (!selected && onDeselect && type !== 'clear') {\n      const [wrappedValue, option] = getSelectEnt();\n      onDeselect(wrappedValue, option);\n    }\n  };\n\n  // Used for OptionList selection\n  const onInternalSelect = useRefFunc((val, info) => {\n    let cloneValues;\n\n    // Single mode always trigger select only with option list\n    const mergedSelect = multiple ? info.selected : true;\n    if (mergedSelect) {\n      cloneValues = multiple ? [...mergedValues, val] : [val];\n    } else {\n      cloneValues = mergedValues.filter(v => v.value !== val);\n    }\n    triggerChange(cloneValues);\n    triggerSelect(val, mergedSelect);\n\n    // Clean search value if single or configured\n    if (mode === 'combobox') {\n      setActiveValue('');\n    } else if (!isMultiple || autoClearSearchValue) {\n      setSearchValue('');\n      setActiveValue('');\n    }\n  });\n\n  // ======================= Display Change =======================\n  // BaseSelect display values change\n  const onDisplayValuesChange = (nextValues, info) => {\n    triggerChange(nextValues);\n    const {\n      type,\n      values\n    } = info;\n    if (type === 'remove' || type === 'clear') {\n      values.forEach(item => {\n        triggerSelect(item.value, false, type);\n      });\n    }\n  };\n\n  // =========================== Search ===========================\n  const onInternalSearch = (searchText, info) => {\n    setSearchValue(searchText);\n    setActiveValue(null);\n\n    // [Submit] Tag mode should flush input\n    if (info.source === 'submit') {\n      const formatted = (searchText || '').trim();\n      // prevent empty tags from appearing when you click the Enter button\n      if (formatted) {\n        const newRawValues = Array.from(new Set([...rawValues, formatted]));\n        triggerChange(newRawValues);\n        triggerSelect(formatted, true);\n        setSearchValue('');\n      }\n      return;\n    }\n    if (info.source !== 'blur') {\n      if (mode === 'combobox') {\n        triggerChange(searchText);\n      }\n      onSearch === null || onSearch === void 0 || onSearch(searchText);\n    }\n  };\n  const onInternalSearchSplit = words => {\n    let patchValues = words;\n    if (mode !== 'tags') {\n      patchValues = words.map(word => {\n        const opt = labelOptions.get(word);\n        return opt === null || opt === void 0 ? void 0 : opt.value;\n      }).filter(val => val !== undefined);\n    }\n    const newRawValues = Array.from(new Set([...rawValues, ...patchValues]));\n    triggerChange(newRawValues);\n    newRawValues.forEach(newRawValue => {\n      triggerSelect(newRawValue, true);\n    });\n  };\n\n  // ========================== Context ===========================\n  const selectContext = React.useMemo(() => {\n    const realVirtual = virtual !== false && popupMatchSelectWidth !== false;\n    return _objectSpread(_objectSpread({}, parsedOptions), {}, {\n      flattenOptions: displayOptions,\n      onActiveValue,\n      defaultActiveFirstOption: mergedDefaultActiveFirstOption,\n      onSelect: onInternalSelect,\n      menuItemSelectedIcon,\n      rawValues,\n      fieldNames: mergedFieldNames,\n      virtual: realVirtual,\n      direction,\n      listHeight,\n      listItemHeight,\n      childrenAsData,\n      maxCount,\n      optionRender,\n      classNames,\n      styles\n    });\n  }, [maxCount, parsedOptions, displayOptions, onActiveValue, mergedDefaultActiveFirstOption, onInternalSelect, menuItemSelectedIcon, rawValues, mergedFieldNames, virtual, popupMatchSelectWidth, direction, listHeight, listItemHeight, childrenAsData, optionRender, classNames, styles]);\n\n  // ========================== Warning ===========================\n  if (process.env.NODE_ENV !== 'production') {\n    warningProps(props);\n    warningNullOptions(mergedOptions, mergedFieldNames);\n  }\n\n  // ==============================================================\n  // ==                          Render                          ==\n  // ==============================================================\n  return /*#__PURE__*/React.createElement(SelectContext.Provider, {\n    value: selectContext\n  }, /*#__PURE__*/React.createElement(BaseSelect, _extends({}, restProps, {\n    // >>> MISC\n    id: mergedId,\n    prefixCls: prefixCls,\n    ref: ref,\n    omitDomProps: OMIT_DOM_PROPS,\n    mode: mode\n    // >>> Style\n    ,\n\n    classNames: classNames,\n    styles: styles\n    // >>> Values\n    ,\n\n    displayValues: displayValues,\n    onDisplayValuesChange: onDisplayValuesChange,\n    maxCount: maxCount\n    // >>> Trigger\n    ,\n\n    direction: direction\n    // >>> Search\n    ,\n\n    showSearch: mergedShowSearch,\n    searchValue: mergedSearchValue,\n    onSearch: onInternalSearch,\n    autoClearSearchValue: autoClearSearchValue,\n    onSearchSplit: onInternalSearchSplit,\n    popupMatchSelectWidth: popupMatchSelectWidth\n    // >>> OptionList\n    ,\n\n    OptionList: OptionList,\n    emptyOptions: !displayOptions.length\n    // >>> Accessibility\n    ,\n\n    activeValue: activeValue,\n    activeDescendantId: \"\".concat(mergedId, \"_list_\").concat(accessibilityIndex)\n  })));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Select.displayName = 'Select';\n}\nconst TypedSelect = Select;\nTypedSelect.Option = Option;\nTypedSelect.OptGroup = OptGroup;\nexport default TypedSelect;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","useControlledState","warning","React","BaseSelect","isMultiple","OptGroup","Option","OptionList","SelectContext","useCache","useFilterOptions","useId","useOptions","useRefFunc","hasValue","isComboNoValue","toArray","fillFieldNames","flattenOptions","injectPropsWithOption","warningProps","warningNullOptions","useSearchConfig","OMIT_DOM_PROPS","isRawValue","value","Select","forwardRef","props","ref","id","mode","prefixCls","backfill","fieldNames","showSearch","searchValue","legacySearchValue","onSearch","legacyOnSearch","autoClearSearchValue","legacyAutoClearSearchValue","filterOption","legacyFilterOption","optionFilterProp","legacyOptionFilterProp","filterSort","legacyFilterSort","onSelect","onDeselect","onActive","popupMatchSelectWidth","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","defaultValue","labelInValue","onChange","maxCount","classNames","styles","restProps","_objectWithoutProperties","_excluded","searchProps","mergedShowSearch","searchConfig","normalizedOptionFilterProp","useMemo","Array","isArray","mergedId","multiple","childrenAsData","mergedFilterOption","undefined","mergedFieldNames","JSON","stringify","internalSearchValue","setSearchValue","mergedSearchValue","parsedOptions","valueOptions","labelOptions","mergedOptions","convert2LabelValues","useCallback","draftValues","valueList","map","val","rawValue","rawLabel","rawDisabled","rawTitle","label","option","get","disabled","title","process","env","NODE_ENV","optionLabel","isValidElement","internalValue","setInternalValue","rawLabeledValues","_values$","newInternalValue","values","mergedValues","getMixedOption","displayValues","firstValue","item","_ref","_objectSpread","rawValues","Set","useEffect","_mergedValues$","strValue","String","createTagOption","mergedLabel","filledTagOptions","cloneOptions","existOptions","has","sort","a","b","forEach","push","filteredOptions","filledSearchOptions","hasItemMatchingSearch","some","prop","sorter","inputOptions","sortedOptions","orderedFilteredOptions","displayOptions","triggerChange","labeledValues","newVal","index","_mergedValues$index","returnValues","_ref2","l","v","returnOptions","activeValue","setActiveValue","useState","accessibilityIndex","setAccessibilityIndex","mergedDefaultActiveFirstOption","activeEventRef","useRef","onActiveValue","active","promise","Promise","resolve","then","current","triggerSelect","selected","type","getSelectEnt","wrappedValue","onInternalSelect","info","cloneValues","mergedSelect","filter","onDisplayValuesChange","nextValues","onInternalSearch","searchText","formatted","trim","newRawValues","from","onInternalSearchSplit","words","patchValues","word","opt","newRawValue","selectContext","realVirtual","createElement","Provider","omitDomProps","onSearchSplit","emptyOptions","activeDescendantId","concat","displayName","TypedSelect"],"sources":["/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@rc-component/select/es/Select.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n/**\n * To match accessibility requirement, we always provide an input in the component.\n * Other element will not set `tabIndex` to avoid `onBlur` sequence problem.\n * For focused select, we set `aria-live=\"polite\"` to update the accessibility content.\n *\n * ref:\n * - keyboard: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role#Keyboard_interactions\n *\n * New api:\n * - listHeight\n * - listItemHeight\n * - component\n *\n * Remove deprecated api:\n * - multiple\n * - tags\n * - combobox\n * - firstActiveValue\n * - dropdownMenuStyle\n * - openClassName (Not list in api)\n *\n * Update:\n * - `backfill` only support `combobox` mode\n * - `combobox` mode not support `labelInValue` since it's meaningless\n * - `getInputElement` only support `combobox` mode\n * - `onChange` return OptionData instead of ReactNode\n * - `filterOption` `onChange` `onSelect` accept OptionData instead of ReactNode\n * - `combobox` mode trigger `onChange` will get `undefined` if no `value` match in Option\n * - `combobox` mode not support `optionLabelProp`\n */\n\nimport useControlledState from \"@rc-component/util/es/hooks/useControlledState\";\nimport warning from \"@rc-component/util/es/warning\";\nimport * as React from 'react';\nimport BaseSelect, { isMultiple } from \"./BaseSelect\";\nimport OptGroup from \"./OptGroup\";\nimport Option from \"./Option\";\nimport OptionList from \"./OptionList\";\nimport SelectContext from \"./SelectContext\";\nimport useCache from \"./hooks/useCache\";\nimport useFilterOptions from \"./hooks/useFilterOptions\";\nimport useId from \"@rc-component/util/es/hooks/useId\";\nimport useOptions from \"./hooks/useOptions\";\nimport useRefFunc from \"./hooks/useRefFunc\";\nimport { hasValue, isComboNoValue, toArray } from \"./utils/commonUtil\";\nimport { fillFieldNames, flattenOptions, injectPropsWithOption } from \"./utils/valueUtil\";\nimport warningProps, { warningNullOptions } from \"./utils/warningPropsUtil\";\nimport useSearchConfig from \"./hooks/useSearchConfig\";\nconst OMIT_DOM_PROPS = ['inputValue'];\nfunction isRawValue(value) {\n  return !value || typeof value !== 'object';\n}\nconst Select = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    id,\n    mode,\n    prefixCls = 'rc-select',\n    backfill,\n    fieldNames,\n    // Search\n    showSearch,\n    searchValue: legacySearchValue,\n    onSearch: legacyOnSearch,\n    autoClearSearchValue: legacyAutoClearSearchValue,\n    filterOption: legacyFilterOption,\n    optionFilterProp: legacyOptionFilterProp,\n    filterSort: legacyFilterSort,\n    // Select\n    onSelect,\n    onDeselect,\n    onActive,\n    popupMatchSelectWidth = true,\n    optionLabelProp,\n    options,\n    optionRender,\n    children,\n    defaultActiveFirstOption,\n    menuItemSelectedIcon,\n    virtual,\n    direction,\n    listHeight = 200,\n    listItemHeight = 20,\n    labelRender,\n    // Value\n    value,\n    defaultValue,\n    labelInValue,\n    onChange,\n    maxCount,\n    classNames,\n    styles,\n    ...restProps\n  } = props;\n  const searchProps = {\n    searchValue: legacySearchValue,\n    onSearch: legacyOnSearch,\n    autoClearSearchValue: legacyAutoClearSearchValue,\n    filterOption: legacyFilterOption,\n    optionFilterProp: legacyOptionFilterProp,\n    filterSort: legacyFilterSort\n  };\n  const [mergedShowSearch, searchConfig] = useSearchConfig(showSearch, searchProps, mode);\n  const {\n    filterOption,\n    searchValue,\n    optionFilterProp,\n    filterSort,\n    onSearch,\n    autoClearSearchValue = true\n  } = searchConfig;\n  const normalizedOptionFilterProp = React.useMemo(() => {\n    if (!optionFilterProp) return [];\n    return Array.isArray(optionFilterProp) ? optionFilterProp : [optionFilterProp];\n  }, [optionFilterProp]);\n  const mergedId = useId(id);\n  const multiple = isMultiple(mode);\n  const childrenAsData = !!(!options && children);\n  const mergedFilterOption = React.useMemo(() => {\n    if (filterOption === undefined && mode === 'combobox') {\n      return false;\n    }\n    return filterOption;\n  }, [filterOption, mode]);\n\n  // ========================= FieldNames =========================\n  const mergedFieldNames = React.useMemo(() => fillFieldNames(fieldNames, childrenAsData), /* eslint-disable react-hooks/exhaustive-deps */\n  [\n  // We stringify fieldNames to avoid unnecessary re-renders.\n  JSON.stringify(fieldNames), childrenAsData]\n  /* eslint-enable react-hooks/exhaustive-deps */);\n\n  // =========================== Search ===========================\n  const [internalSearchValue, setSearchValue] = useControlledState('', searchValue);\n  const mergedSearchValue = internalSearchValue || '';\n\n  // =========================== Option ===========================\n  const parsedOptions = useOptions(options, children, mergedFieldNames, normalizedOptionFilterProp, optionLabelProp);\n  const {\n    valueOptions,\n    labelOptions,\n    options: mergedOptions\n  } = parsedOptions;\n\n  // ========================= Wrap Value =========================\n  const convert2LabelValues = React.useCallback(draftValues => {\n    // Convert to array\n    const valueList = toArray(draftValues);\n\n    // Convert to labelInValue type\n    return valueList.map(val => {\n      let rawValue;\n      let rawLabel;\n      let rawDisabled;\n      let rawTitle;\n\n      // Fill label & value\n      if (isRawValue(val)) {\n        rawValue = val;\n      } else {\n        rawLabel = val.label;\n        rawValue = val.value;\n      }\n      const option = valueOptions.get(rawValue);\n      if (option) {\n        // Fill missing props\n        if (rawLabel === undefined) rawLabel = option?.[optionLabelProp || mergedFieldNames.label];\n        rawDisabled = option?.disabled;\n        rawTitle = option?.title;\n\n        // Warning if label not same as provided\n        if (process.env.NODE_ENV !== 'production' && !optionLabelProp) {\n          const optionLabel = option?.[mergedFieldNames.label];\n          if (optionLabel !== undefined && ! /*#__PURE__*/React.isValidElement(optionLabel) && ! /*#__PURE__*/React.isValidElement(rawLabel) && optionLabel !== rawLabel) {\n            warning(false, '`label` of `value` is not same as `label` in Select options.');\n          }\n        }\n      }\n      return {\n        label: rawLabel,\n        value: rawValue,\n        key: rawValue,\n        disabled: rawDisabled,\n        title: rawTitle\n      };\n    });\n  }, [mergedFieldNames, optionLabelProp, valueOptions]);\n\n  // =========================== Values ===========================\n  const [internalValue, setInternalValue] = useControlledState(defaultValue, value);\n\n  // Merged value with LabelValueType\n  const rawLabeledValues = React.useMemo(() => {\n    const newInternalValue = multiple && internalValue === null ? [] : internalValue;\n    const values = convert2LabelValues(newInternalValue);\n\n    // combobox no need save value when it's no value (exclude value equal 0)\n    if (mode === 'combobox' && isComboNoValue(values[0]?.value)) {\n      return [];\n    }\n    return values;\n  }, [internalValue, convert2LabelValues, mode, multiple]);\n\n  // Fill label with cache to avoid option remove\n  const [mergedValues, getMixedOption] = useCache(rawLabeledValues, valueOptions);\n  const displayValues = React.useMemo(() => {\n    // `null` need show as placeholder instead\n    // https://github.com/ant-design/ant-design/issues/25057\n    if (!mode && mergedValues.length === 1) {\n      const firstValue = mergedValues[0];\n      if (firstValue.value === null && (firstValue.label === null || firstValue.label === undefined)) {\n        return [];\n      }\n    }\n    return mergedValues.map(item => ({\n      ...item,\n      label: (typeof labelRender === 'function' ? labelRender(item) : item.label) ?? item.value\n    }));\n  }, [mode, mergedValues, labelRender]);\n\n  /** Convert `displayValues` to raw value type set */\n  const rawValues = React.useMemo(() => new Set(mergedValues.map(val => val.value)), [mergedValues]);\n  React.useEffect(() => {\n    if (mode === 'combobox') {\n      const strValue = mergedValues[0]?.value;\n      setSearchValue(hasValue(strValue) ? String(strValue) : '');\n    }\n  }, [mergedValues]);\n\n  // ======================= Display Option =======================\n  // Create a placeholder item if not exist in `options`\n  const createTagOption = useRefFunc((val, label) => {\n    const mergedLabel = label ?? val;\n    return {\n      [mergedFieldNames.value]: val,\n      [mergedFieldNames.label]: mergedLabel\n    };\n  });\n\n  // Fill tag as option if mode is `tags`\n  const filledTagOptions = React.useMemo(() => {\n    if (mode !== 'tags') {\n      return mergedOptions;\n    }\n\n    // >>> Tag mode\n    const cloneOptions = [...mergedOptions];\n\n    // Check if value exist in options (include new patch item)\n    const existOptions = val => valueOptions.has(val);\n\n    // Fill current value as option\n    [...mergedValues].sort((a, b) => a.value < b.value ? -1 : 1).forEach(item => {\n      const val = item.value;\n      if (!existOptions(val)) {\n        cloneOptions.push(createTagOption(val, item.label));\n      }\n    });\n    return cloneOptions;\n  }, [createTagOption, mergedOptions, valueOptions, mergedValues, mode]);\n  const filteredOptions = useFilterOptions(filledTagOptions, mergedFieldNames, mergedSearchValue, mergedFilterOption, normalizedOptionFilterProp);\n\n  // Fill options with search value if needed\n  const filledSearchOptions = React.useMemo(() => {\n    const hasItemMatchingSearch = item => {\n      if (normalizedOptionFilterProp.length) {\n        return normalizedOptionFilterProp.some(prop => item?.[prop] === mergedSearchValue);\n      }\n      return item?.value === mergedSearchValue;\n    };\n    if (mode !== 'tags' || !mergedSearchValue || filteredOptions.some(item => hasItemMatchingSearch(item))) {\n      return filteredOptions;\n    }\n    // ignore when search value equal select input value\n    if (filteredOptions.some(item => item[mergedFieldNames.value] === mergedSearchValue)) {\n      return filteredOptions;\n    }\n    // Fill search value as option\n    return [createTagOption(mergedSearchValue), ...filteredOptions];\n  }, [createTagOption, normalizedOptionFilterProp, mode, filteredOptions, mergedSearchValue, mergedFieldNames]);\n  const sorter = inputOptions => {\n    const sortedOptions = [...inputOptions].sort((a, b) => filterSort(a, b, {\n      searchValue: mergedSearchValue\n    }));\n    return sortedOptions.map(item => {\n      if (Array.isArray(item.options)) {\n        return {\n          ...item,\n          options: item.options.length > 0 ? sorter(item.options) : item.options\n        };\n      }\n      return item;\n    });\n  };\n  const orderedFilteredOptions = React.useMemo(() => {\n    if (!filterSort) {\n      return filledSearchOptions;\n    }\n    return sorter(filledSearchOptions);\n  }, [filledSearchOptions, filterSort, mergedSearchValue]);\n  const displayOptions = React.useMemo(() => flattenOptions(orderedFilteredOptions, {\n    fieldNames: mergedFieldNames,\n    childrenAsData\n  }), [orderedFilteredOptions, mergedFieldNames, childrenAsData]);\n\n  // =========================== Change ===========================\n  const triggerChange = values => {\n    const labeledValues = convert2LabelValues(values);\n    setInternalValue(labeledValues);\n    if (onChange && (\n    // Trigger event only when value changed\n    labeledValues.length !== mergedValues.length || labeledValues.some((newVal, index) => mergedValues[index]?.value !== newVal?.value))) {\n      const returnValues = labelInValue ? labeledValues.map(({\n        label: l,\n        value: v\n      }) => ({\n        label: l,\n        value: v\n      })) : labeledValues.map(v => v.value);\n      const returnOptions = labeledValues.map(v => injectPropsWithOption(getMixedOption(v.value)));\n      onChange(\n      // Value\n      multiple ? returnValues : returnValues[0],\n      // Option\n      multiple ? returnOptions : returnOptions[0]);\n    }\n  };\n\n  // ======================= Accessibility ========================\n  const [activeValue, setActiveValue] = React.useState(null);\n  const [accessibilityIndex, setAccessibilityIndex] = React.useState(0);\n  const mergedDefaultActiveFirstOption = defaultActiveFirstOption !== undefined ? defaultActiveFirstOption : mode !== 'combobox';\n  const activeEventRef = React.useRef();\n  const onActiveValue = React.useCallback((active, index, {\n    source = 'keyboard'\n  } = {}) => {\n    setAccessibilityIndex(index);\n    if (backfill && mode === 'combobox' && active !== null && source === 'keyboard') {\n      setActiveValue(String(active));\n    }\n\n    // Active will call multiple times.\n    // We only need trigger the last one.\n    const promise = Promise.resolve().then(() => {\n      if (activeEventRef.current === promise) {\n        onActive?.(active);\n      }\n    });\n    activeEventRef.current = promise;\n  }, [backfill, mode, onActive]);\n\n  // ========================= OptionList =========================\n  const triggerSelect = (val, selected, type) => {\n    const getSelectEnt = () => {\n      const option = getMixedOption(val);\n      return [labelInValue ? {\n        label: option?.[mergedFieldNames.label],\n        value: val\n      } : val, injectPropsWithOption(option)];\n    };\n    if (selected && onSelect) {\n      const [wrappedValue, option] = getSelectEnt();\n      onSelect(wrappedValue, option);\n    } else if (!selected && onDeselect && type !== 'clear') {\n      const [wrappedValue, option] = getSelectEnt();\n      onDeselect(wrappedValue, option);\n    }\n  };\n\n  // Used for OptionList selection\n  const onInternalSelect = useRefFunc((val, info) => {\n    let cloneValues;\n\n    // Single mode always trigger select only with option list\n    const mergedSelect = multiple ? info.selected : true;\n    if (mergedSelect) {\n      cloneValues = multiple ? [...mergedValues, val] : [val];\n    } else {\n      cloneValues = mergedValues.filter(v => v.value !== val);\n    }\n    triggerChange(cloneValues);\n    triggerSelect(val, mergedSelect);\n\n    // Clean search value if single or configured\n    if (mode === 'combobox') {\n      setActiveValue('');\n    } else if (!isMultiple || autoClearSearchValue) {\n      setSearchValue('');\n      setActiveValue('');\n    }\n  });\n\n  // ======================= Display Change =======================\n  // BaseSelect display values change\n  const onDisplayValuesChange = (nextValues, info) => {\n    triggerChange(nextValues);\n    const {\n      type,\n      values\n    } = info;\n    if (type === 'remove' || type === 'clear') {\n      values.forEach(item => {\n        triggerSelect(item.value, false, type);\n      });\n    }\n  };\n\n  // =========================== Search ===========================\n  const onInternalSearch = (searchText, info) => {\n    setSearchValue(searchText);\n    setActiveValue(null);\n\n    // [Submit] Tag mode should flush input\n    if (info.source === 'submit') {\n      const formatted = (searchText || '').trim();\n      // prevent empty tags from appearing when you click the Enter button\n      if (formatted) {\n        const newRawValues = Array.from(new Set([...rawValues, formatted]));\n        triggerChange(newRawValues);\n        triggerSelect(formatted, true);\n        setSearchValue('');\n      }\n      return;\n    }\n    if (info.source !== 'blur') {\n      if (mode === 'combobox') {\n        triggerChange(searchText);\n      }\n      onSearch?.(searchText);\n    }\n  };\n  const onInternalSearchSplit = words => {\n    let patchValues = words;\n    if (mode !== 'tags') {\n      patchValues = words.map(word => {\n        const opt = labelOptions.get(word);\n        return opt?.value;\n      }).filter(val => val !== undefined);\n    }\n    const newRawValues = Array.from(new Set([...rawValues, ...patchValues]));\n    triggerChange(newRawValues);\n    newRawValues.forEach(newRawValue => {\n      triggerSelect(newRawValue, true);\n    });\n  };\n\n  // ========================== Context ===========================\n  const selectContext = React.useMemo(() => {\n    const realVirtual = virtual !== false && popupMatchSelectWidth !== false;\n    return {\n      ...parsedOptions,\n      flattenOptions: displayOptions,\n      onActiveValue,\n      defaultActiveFirstOption: mergedDefaultActiveFirstOption,\n      onSelect: onInternalSelect,\n      menuItemSelectedIcon,\n      rawValues,\n      fieldNames: mergedFieldNames,\n      virtual: realVirtual,\n      direction,\n      listHeight,\n      listItemHeight,\n      childrenAsData,\n      maxCount,\n      optionRender,\n      classNames,\n      styles\n    };\n  }, [maxCount, parsedOptions, displayOptions, onActiveValue, mergedDefaultActiveFirstOption, onInternalSelect, menuItemSelectedIcon, rawValues, mergedFieldNames, virtual, popupMatchSelectWidth, direction, listHeight, listItemHeight, childrenAsData, optionRender, classNames, styles]);\n\n  // ========================== Warning ===========================\n  if (process.env.NODE_ENV !== 'production') {\n    warningProps(props);\n    warningNullOptions(mergedOptions, mergedFieldNames);\n  }\n\n  // ==============================================================\n  // ==                          Render                          ==\n  // ==============================================================\n  return /*#__PURE__*/React.createElement(SelectContext.Provider, {\n    value: selectContext\n  }, /*#__PURE__*/React.createElement(BaseSelect, _extends({}, restProps, {\n    // >>> MISC\n    id: mergedId,\n    prefixCls: prefixCls,\n    ref: ref,\n    omitDomProps: OMIT_DOM_PROPS,\n    mode: mode\n    // >>> Style\n    ,\n    classNames: classNames,\n    styles: styles\n    // >>> Values\n    ,\n    displayValues: displayValues,\n    onDisplayValuesChange: onDisplayValuesChange,\n    maxCount: maxCount\n    // >>> Trigger\n    ,\n    direction: direction\n    // >>> Search\n    ,\n    showSearch: mergedShowSearch,\n    searchValue: mergedSearchValue,\n    onSearch: onInternalSearch,\n    autoClearSearchValue: autoClearSearchValue,\n    onSearchSplit: onInternalSearchSplit,\n    popupMatchSelectWidth: popupMatchSelectWidth\n    // >>> OptionList\n    ,\n    OptionList: OptionList,\n    emptyOptions: !displayOptions.length\n    // >>> Accessibility\n    ,\n    activeValue: activeValue,\n    activeDescendantId: `${mergedId}_list_${accessibilityIndex}`\n  })));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Select.displayName = 'Select';\n}\nconst TypedSelect = Select;\nTypedSelect.Option = Option;\nTypedSelect.OptGroup = OptGroup;\nexport default TypedSelect;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}