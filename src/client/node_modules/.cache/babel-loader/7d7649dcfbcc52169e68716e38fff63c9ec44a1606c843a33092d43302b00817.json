{"ast":null,"code":"import _objectSpread from \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"eventKey\", \"className\", \"style\", \"dragOver\", \"dragOverGapTop\", \"dragOverGapBottom\", \"isLeaf\", \"isStart\", \"isEnd\", \"expanded\", \"selected\", \"checked\", \"halfChecked\", \"loading\", \"domRef\", \"active\", \"data\", \"onMouseMove\", \"selectable\", \"treeId\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport React from 'react';\nimport { clsx } from 'clsx';\nimport { getId } from \"@rc-component/util/es/hooks/useId\";\nimport pickAttrs from \"@rc-component/util/es/pickAttrs\";\nimport { TreeContext, UnstableContext } from \"./contextTypes\";\nimport Indent from \"./Indent\";\nimport getEntity from \"./utils/keyUtil\";\nimport { convertNodePropsToEventData, isLeafNode } from \"./utils/treeUtil\";\nconst ICON_OPEN = 'open';\nconst ICON_CLOSE = 'close';\nconst defaultTitle = '---';\nconst TreeNode = props => {\n  var _unstableContext$node, _context$filterTreeNo;\n  const {\n      eventKey,\n      className,\n      style,\n      dragOver,\n      dragOverGapTop,\n      dragOverGapBottom,\n      isLeaf,\n      isStart,\n      isEnd,\n      expanded,\n      selected,\n      checked,\n      halfChecked,\n      loading,\n      domRef,\n      active,\n      data,\n      onMouseMove,\n      selectable,\n      treeId\n    } = props,\n    otherProps = _objectWithoutProperties(props, _excluded);\n  const nodeId = getId(treeId, eventKey);\n  const context = React.useContext(TreeContext);\n  const {\n    classNames: treeClassNames,\n    styles\n  } = context || {};\n  const unstableContext = React.useContext(UnstableContext);\n  const selectHandleRef = React.useRef(null);\n  const [dragNodeHighlight, setDragNodeHighlight] = React.useState(false);\n\n  // ======= State: Disabled State =======\n  const isDisabled = !!(context.disabled || props.disabled || (_unstableContext$node = unstableContext.nodeDisabled) !== null && _unstableContext$node !== void 0 && _unstableContext$node.call(unstableContext, data));\n  const isCheckable = React.useMemo(() => {\n    // Return false if tree or treeNode is not checkable\n    if (!context.checkable || props.checkable === false) {\n      return false;\n    }\n    return context.checkable;\n  }, [context.checkable, props.checkable]);\n\n  // ======= Event Handlers: Selection and Check =======\n  const onSelect = e => {\n    if (isDisabled) {\n      return;\n    }\n    context.onNodeSelect(e, convertNodePropsToEventData(props));\n  };\n  const onCheck = e => {\n    if (isDisabled) {\n      return;\n    }\n    if (!isCheckable || props.disableCheckbox) {\n      return;\n    }\n    context.onNodeCheck(e, convertNodePropsToEventData(props), !checked);\n  };\n\n  // ======= State: Selectable Check =======\n  const isSelectable = React.useMemo(() => {\n    // Ignore when selectable is undefined or null\n    if (typeof selectable === 'boolean') {\n      return selectable;\n    }\n    return context.selectable;\n  }, [selectable, context.selectable]);\n  const onSelectorClick = e => {\n    // Click trigger before select/check operation\n    context.onNodeClick(e, convertNodePropsToEventData(props));\n    if (isSelectable) {\n      onSelect(e);\n    } else {\n      onCheck(e);\n    }\n  };\n  const onSelectorDoubleClick = e => {\n    context.onNodeDoubleClick(e, convertNodePropsToEventData(props));\n  };\n  const onMouseEnter = e => {\n    context.onNodeMouseEnter(e, convertNodePropsToEventData(props));\n  };\n  const onMouseLeave = e => {\n    context.onNodeMouseLeave(e, convertNodePropsToEventData(props));\n  };\n  const onContextMenu = e => {\n    context.onNodeContextMenu(e, convertNodePropsToEventData(props));\n  };\n\n  // ======= Drag: Drag Enabled =======\n  const isDraggable = React.useMemo(() => {\n    return !!(context.draggable && (!context.draggable.nodeDraggable || context.draggable.nodeDraggable(data)));\n  }, [context.draggable, data]);\n\n  // ======= Drag: Drag Event Handlers =======\n  const onDragStart = e => {\n    e.stopPropagation();\n    setDragNodeHighlight(true);\n    context.onNodeDragStart(e, props);\n    try {\n      // ie throw error\n      // firefox-need-it\n      e.dataTransfer.setData('text/plain', '');\n    } catch (_unused) {\n      // empty\n    }\n  };\n  const onDragEnter = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    context.onNodeDragEnter(e, props);\n  };\n  const onDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    context.onNodeDragOver(e, props);\n  };\n  const onDragLeave = e => {\n    e.stopPropagation();\n    context.onNodeDragLeave(e, props);\n  };\n  const onDragEnd = e => {\n    e.stopPropagation();\n    setDragNodeHighlight(false);\n    context.onNodeDragEnd(e, props);\n  };\n  const onDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragNodeHighlight(false);\n    context.onNodeDrop(e, props);\n  };\n\n  // ======= Expand: Node Expansion =======\n  const onExpand = e => {\n    if (loading) {\n      return;\n    }\n    context.onNodeExpand(e, convertNodePropsToEventData(props));\n  };\n\n  // ======= State: Has Children =======\n  const hasChildren = React.useMemo(() => {\n    const {\n      children\n    } = getEntity(context.keyEntities, eventKey) || {};\n    return Boolean((children || []).length);\n  }, [context.keyEntities, eventKey]);\n\n  // ======= State: Leaf Check =======\n  const memoizedIsLeaf = React.useMemo(() => {\n    return isLeafNode(isLeaf, context.loadData, hasChildren, props.loaded);\n  }, [isLeaf, context.loadData, hasChildren, props.loaded]);\n\n  // ============== Effect ==============\n  React.useEffect(() => {\n    // Load data to avoid default expanded tree without data\n    if (loading) {\n      return;\n    }\n    // read from state to avoid loadData at same time\n    if (typeof context.loadData === 'function' && expanded && !memoizedIsLeaf && !props.loaded) {\n      // We needn't reload data when has children in sync logic\n      // It's only needed in node expanded\n      context.onNodeLoad(convertNodePropsToEventData(props));\n    }\n  }, [loading, context.loadData, context.onNodeLoad, expanded, memoizedIsLeaf, props]);\n\n  // ==================== Render: Drag Handler ====================\n  const dragHandlerNode = React.useMemo(() => {\n    var _context$draggable;\n    if (!((_context$draggable = context.draggable) !== null && _context$draggable !== void 0 && _context$draggable.icon)) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(context.prefixCls, \"-draggable-icon\")\n    }, context.draggable.icon);\n  }, [context.draggable]);\n\n  // ====================== Render: Switcher ======================\n  const renderSwitcherIconDom = isInternalLeaf => {\n    const switcherIcon = props.switcherIcon || context.switcherIcon;\n    // if switcherIconDom is null, no render switcher span\n    if (typeof switcherIcon === 'function') {\n      return switcherIcon(_objectSpread(_objectSpread({}, props), {}, {\n        isLeaf: isInternalLeaf\n      }));\n    }\n    return switcherIcon;\n  };\n\n  // Switcher\n  const renderSwitcher = () => {\n    if (memoizedIsLeaf) {\n      // if switcherIconDom is null, no render switcher span\n      const switcherIconDom = renderSwitcherIconDom(true);\n      return switcherIconDom !== false ? /*#__PURE__*/React.createElement(\"span\", {\n        className: clsx(\"\".concat(context.prefixCls, \"-switcher\"), \"\".concat(context.prefixCls, \"-switcher-noop\"))\n      }, switcherIconDom) : null;\n    }\n    const switcherIconDom = renderSwitcherIconDom(false);\n    return switcherIconDom !== false ? /*#__PURE__*/React.createElement(\"span\", {\n      onClick: onExpand,\n      className: clsx(\"\".concat(context.prefixCls, \"-switcher\"), \"\".concat(context.prefixCls, \"-switcher_\").concat(expanded ? ICON_OPEN : ICON_CLOSE))\n    }, switcherIconDom) : null;\n  };\n\n  // ====================== Checkbox ======================\n  const checkboxNode = React.useMemo(() => {\n    if (!isCheckable) {\n      return null;\n    }\n\n    // [Legacy] Custom element should be separate with `checkable` in future\n    const $custom = typeof isCheckable !== 'boolean' ? isCheckable : null;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: clsx(\"\".concat(context.prefixCls, \"-checkbox\"), {\n        [\"\".concat(context.prefixCls, \"-checkbox-checked\")]: checked,\n        [\"\".concat(context.prefixCls, \"-checkbox-indeterminate\")]: !checked && halfChecked,\n        [\"\".concat(context.prefixCls, \"-checkbox-disabled\")]: isDisabled || props.disableCheckbox\n      }),\n      onClick: onCheck,\n      role: \"checkbox\",\n      \"aria-checked\": halfChecked ? 'mixed' : checked,\n      \"aria-disabled\": isDisabled || props.disableCheckbox,\n      \"aria-labelledby\": nodeId\n    }, $custom);\n  }, [isCheckable, checked, halfChecked, isDisabled, props.disableCheckbox, nodeId]);\n\n  // ============== State: Node State (Open/Close) ==============\n  const nodeState = React.useMemo(() => {\n    if (memoizedIsLeaf) {\n      return null;\n    }\n    return expanded ? ICON_OPEN : ICON_CLOSE;\n  }, [memoizedIsLeaf, expanded]);\n\n  // ==================== Render: Title + Icon ====================\n  const iconNode = React.useMemo(() => {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: clsx(treeClassNames === null || treeClassNames === void 0 ? void 0 : treeClassNames.itemIcon, \"\".concat(context.prefixCls, \"-iconEle\"), \"\".concat(context.prefixCls, \"-icon__\").concat(nodeState || 'docu'), {\n        [\"\".concat(context.prefixCls, \"-icon_loading\")]: loading\n      }),\n      style: styles === null || styles === void 0 ? void 0 : styles.itemIcon\n    });\n  }, [context.prefixCls, nodeState, loading]);\n\n  // =================== Drop Indicator ===================\n  const dropIndicatorNode = React.useMemo(() => {\n    const rootDraggable = Boolean(context.draggable);\n    // allowDrop is calculated in Tree.tsx, there is no need for calc it here\n    const showIndicator = !props.disabled && rootDraggable && context.dragOverNodeKey === eventKey;\n    if (!showIndicator) {\n      return null;\n    }\n    return context.dropIndicatorRender({\n      dropPosition: context.dropPosition,\n      dropLevelOffset: context.dropLevelOffset,\n      indent: context.indent,\n      prefixCls: context.prefixCls,\n      direction: context.direction\n    });\n  }, [context.dropPosition, context.dropLevelOffset, context.indent, context.prefixCls, context.direction, context.draggable, context.dragOverNodeKey, context.dropIndicatorRender]);\n\n  // Icon + Title\n  const selectorNode = React.useMemo(() => {\n    const {\n      title = defaultTitle\n    } = props;\n    const wrapClass = \"\".concat(context.prefixCls, \"-node-content-wrapper\");\n\n    // Icon - Still show loading icon when loading without showIcon\n    let $icon;\n    if (context.showIcon) {\n      const currentIcon = props.icon || context.icon;\n      $icon = currentIcon ? /*#__PURE__*/React.createElement(\"span\", {\n        className: clsx(treeClassNames === null || treeClassNames === void 0 ? void 0 : treeClassNames.itemIcon, \"\".concat(context.prefixCls, \"-iconEle\"), \"\".concat(context.prefixCls, \"-icon__customize\")),\n        style: styles === null || styles === void 0 ? void 0 : styles.itemIcon\n      }, typeof currentIcon === 'function' ? currentIcon(props) : currentIcon) : iconNode;\n    } else if (context.loadData && loading) {\n      $icon = iconNode;\n    }\n\n    // Title\n    let titleNode;\n    if (typeof title === 'function') {\n      titleNode = title(data);\n    } else if (context.titleRender) {\n      titleNode = context.titleRender(data);\n    } else {\n      titleNode = title;\n    }\n    return /*#__PURE__*/React.createElement(\"span\", {\n      ref: selectHandleRef,\n      title: typeof title === 'string' ? title : '',\n      className: clsx(wrapClass, \"\".concat(wrapClass, \"-\").concat(nodeState || 'normal'), {\n        [\"\".concat(context.prefixCls, \"-node-selected\")]: !isDisabled && (selected || dragNodeHighlight)\n      }),\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onContextMenu: onContextMenu,\n      onClick: onSelectorClick,\n      onDoubleClick: onSelectorDoubleClick\n    }, $icon, /*#__PURE__*/React.createElement(\"span\", {\n      className: clsx(\"\".concat(context.prefixCls, \"-title\"), treeClassNames === null || treeClassNames === void 0 ? void 0 : treeClassNames.itemTitle),\n      style: styles === null || styles === void 0 ? void 0 : styles.itemTitle\n    }, titleNode), dropIndicatorNode);\n  }, [context.prefixCls, context.showIcon, props, context.icon, iconNode, context.titleRender, data, nodeState, onMouseEnter, onMouseLeave, onContextMenu, onSelectorClick, onSelectorDoubleClick]);\n  const dataOrAriaAttributeProps = pickAttrs(otherProps, {\n    aria: true,\n    data: true\n  });\n  const {\n    level\n  } = getEntity(context.keyEntities, eventKey) || {};\n  const isEndNode = isEnd[isEnd.length - 1];\n  const draggableWithoutDisabled = !isDisabled && isDraggable;\n  const dragging = context.draggingNodeKey === eventKey;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: domRef,\n    role: \"treeitem\",\n    id: nodeId,\n    \"aria-expanded\": memoizedIsLeaf ? undefined : expanded,\n    \"aria-selected\": isSelectable && !isDisabled ? selected : undefined,\n    \"aria-checked\": isCheckable && !isDisabled ? halfChecked ? 'mixed' : checked : undefined,\n    \"aria-disabled\": isDisabled,\n    className: clsx(className, \"\".concat(context.prefixCls, \"-treenode\"), treeClassNames === null || treeClassNames === void 0 ? void 0 : treeClassNames.item, {\n      [\"\".concat(context.prefixCls, \"-treenode-disabled\")]: isDisabled,\n      [\"\".concat(context.prefixCls, \"-treenode-switcher-\").concat(expanded ? 'open' : 'close')]: !isLeaf,\n      [\"\".concat(context.prefixCls, \"-treenode-checkbox-checked\")]: checked,\n      [\"\".concat(context.prefixCls, \"-treenode-checkbox-indeterminate\")]: halfChecked,\n      [\"\".concat(context.prefixCls, \"-treenode-selected\")]: selected,\n      [\"\".concat(context.prefixCls, \"-treenode-loading\")]: loading,\n      [\"\".concat(context.prefixCls, \"-treenode-active\")]: active,\n      [\"\".concat(context.prefixCls, \"-treenode-leaf-last\")]: isEndNode,\n      [\"\".concat(context.prefixCls, \"-treenode-draggable\")]: isDraggable,\n      dragging,\n      'drop-target': context.dropTargetKey === eventKey,\n      'drop-container': context.dropContainerKey === eventKey,\n      'drag-over': !isDisabled && dragOver,\n      'drag-over-gap-top': !isDisabled && dragOverGapTop,\n      'drag-over-gap-bottom': !isDisabled && dragOverGapBottom,\n      'filter-node': (_context$filterTreeNo = context.filterTreeNode) === null || _context$filterTreeNo === void 0 ? void 0 : _context$filterTreeNo.call(context, convertNodePropsToEventData(props)),\n      [\"\".concat(context.prefixCls, \"-treenode-leaf\")]: memoizedIsLeaf\n    }),\n    style: _objectSpread(_objectSpread({}, style), styles === null || styles === void 0 ? void 0 : styles.item)\n    // Draggable config\n    ,\n\n    draggable: draggableWithoutDisabled,\n    onDragStart: draggableWithoutDisabled ? onDragStart : undefined\n    // Drop config\n    ,\n\n    onDragEnter: isDraggable ? onDragEnter : undefined,\n    onDragOver: isDraggable ? onDragOver : undefined,\n    onDragLeave: isDraggable ? onDragLeave : undefined,\n    onDrop: isDraggable ? onDrop : undefined,\n    onDragEnd: isDraggable ? onDragEnd : undefined,\n    onMouseMove: onMouseMove\n  }, dataOrAriaAttributeProps), /*#__PURE__*/React.createElement(Indent, {\n    prefixCls: context.prefixCls,\n    level: level,\n    isStart: isStart,\n    isEnd: isEnd\n  }), dragHandlerNode, renderSwitcher(), checkboxNode, selectorNode);\n};\nTreeNode.isTreeNode = 1;\nif (process.env.NODE_ENV !== 'production') {\n  TreeNode.displayName = 'TreeNode';\n}\nexport default TreeNode;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","clsx","getId","pickAttrs","TreeContext","UnstableContext","Indent","getEntity","convertNodePropsToEventData","isLeafNode","ICON_OPEN","ICON_CLOSE","defaultTitle","TreeNode","props","_unstableContext$node","_context$filterTreeNo","eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable","treeId","otherProps","_objectWithoutProperties","_excluded","nodeId","context","useContext","classNames","treeClassNames","styles","unstableContext","selectHandleRef","useRef","dragNodeHighlight","setDragNodeHighlight","useState","isDisabled","disabled","nodeDisabled","isCheckable","useMemo","checkable","onSelect","e","onNodeSelect","onCheck","disableCheckbox","onNodeCheck","isSelectable","onSelectorClick","onNodeClick","onSelectorDoubleClick","onNodeDoubleClick","onMouseEnter","onNodeMouseEnter","onMouseLeave","onNodeMouseLeave","onContextMenu","onNodeContextMenu","isDraggable","draggable","nodeDraggable","onDragStart","stopPropagation","onNodeDragStart","dataTransfer","setData","_unused","onDragEnter","preventDefault","onNodeDragEnter","onDragOver","onNodeDragOver","onDragLeave","onNodeDragLeave","onDragEnd","onNodeDragEnd","onDrop","onNodeDrop","onExpand","onNodeExpand","hasChildren","children","keyEntities","Boolean","memoizedIsLeaf","loadData","loaded","useEffect","onNodeLoad","dragHandlerNode","_context$draggable","icon","createElement","concat","prefixCls","renderSwitcherIconDom","isInternalLeaf","switcherIcon","_objectSpread","renderSwitcher","switcherIconDom","onClick","checkboxNode","$custom","role","nodeState","iconNode","itemIcon","dropIndicatorNode","rootDraggable","showIndicator","dragOverNodeKey","dropIndicatorRender","dropPosition","dropLevelOffset","indent","direction","selectorNode","title","wrapClass","$icon","showIcon","currentIcon","titleNode","titleRender","ref","onDoubleClick","itemTitle","dataOrAriaAttributeProps","aria","level","isEndNode","draggableWithoutDisabled","dragging","draggingNodeKey","id","undefined","item","dropTargetKey","dropContainerKey","filterTreeNode","isTreeNode","process","env","NODE_ENV","displayName"],"sources":["/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@rc-component/tree/es/TreeNode.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from 'react';\nimport { clsx } from 'clsx';\nimport { getId } from \"@rc-component/util/es/hooks/useId\";\nimport pickAttrs from \"@rc-component/util/es/pickAttrs\";\nimport { TreeContext, UnstableContext } from \"./contextTypes\";\nimport Indent from \"./Indent\";\nimport getEntity from \"./utils/keyUtil\";\nimport { convertNodePropsToEventData, isLeafNode } from \"./utils/treeUtil\";\nconst ICON_OPEN = 'open';\nconst ICON_CLOSE = 'close';\nconst defaultTitle = '---';\nconst TreeNode = props => {\n  const {\n    eventKey,\n    className,\n    style,\n    dragOver,\n    dragOverGapTop,\n    dragOverGapBottom,\n    isLeaf,\n    isStart,\n    isEnd,\n    expanded,\n    selected,\n    checked,\n    halfChecked,\n    loading,\n    domRef,\n    active,\n    data,\n    onMouseMove,\n    selectable,\n    treeId,\n    ...otherProps\n  } = props;\n  const nodeId = getId(treeId, eventKey);\n  const context = React.useContext(TreeContext);\n  const {\n    classNames: treeClassNames,\n    styles\n  } = context || {};\n  const unstableContext = React.useContext(UnstableContext);\n  const selectHandleRef = React.useRef(null);\n  const [dragNodeHighlight, setDragNodeHighlight] = React.useState(false);\n\n  // ======= State: Disabled State =======\n  const isDisabled = !!(context.disabled || props.disabled || unstableContext.nodeDisabled?.(data));\n  const isCheckable = React.useMemo(() => {\n    // Return false if tree or treeNode is not checkable\n    if (!context.checkable || props.checkable === false) {\n      return false;\n    }\n    return context.checkable;\n  }, [context.checkable, props.checkable]);\n\n  // ======= Event Handlers: Selection and Check =======\n  const onSelect = e => {\n    if (isDisabled) {\n      return;\n    }\n    context.onNodeSelect(e, convertNodePropsToEventData(props));\n  };\n  const onCheck = e => {\n    if (isDisabled) {\n      return;\n    }\n    if (!isCheckable || props.disableCheckbox) {\n      return;\n    }\n    context.onNodeCheck(e, convertNodePropsToEventData(props), !checked);\n  };\n\n  // ======= State: Selectable Check =======\n  const isSelectable = React.useMemo(() => {\n    // Ignore when selectable is undefined or null\n    if (typeof selectable === 'boolean') {\n      return selectable;\n    }\n    return context.selectable;\n  }, [selectable, context.selectable]);\n  const onSelectorClick = e => {\n    // Click trigger before select/check operation\n    context.onNodeClick(e, convertNodePropsToEventData(props));\n    if (isSelectable) {\n      onSelect(e);\n    } else {\n      onCheck(e);\n    }\n  };\n  const onSelectorDoubleClick = e => {\n    context.onNodeDoubleClick(e, convertNodePropsToEventData(props));\n  };\n  const onMouseEnter = e => {\n    context.onNodeMouseEnter(e, convertNodePropsToEventData(props));\n  };\n  const onMouseLeave = e => {\n    context.onNodeMouseLeave(e, convertNodePropsToEventData(props));\n  };\n  const onContextMenu = e => {\n    context.onNodeContextMenu(e, convertNodePropsToEventData(props));\n  };\n\n  // ======= Drag: Drag Enabled =======\n  const isDraggable = React.useMemo(() => {\n    return !!(context.draggable && (!context.draggable.nodeDraggable || context.draggable.nodeDraggable(data)));\n  }, [context.draggable, data]);\n\n  // ======= Drag: Drag Event Handlers =======\n  const onDragStart = e => {\n    e.stopPropagation();\n    setDragNodeHighlight(true);\n    context.onNodeDragStart(e, props);\n    try {\n      // ie throw error\n      // firefox-need-it\n      e.dataTransfer.setData('text/plain', '');\n    } catch {\n      // empty\n    }\n  };\n  const onDragEnter = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    context.onNodeDragEnter(e, props);\n  };\n  const onDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    context.onNodeDragOver(e, props);\n  };\n  const onDragLeave = e => {\n    e.stopPropagation();\n    context.onNodeDragLeave(e, props);\n  };\n  const onDragEnd = e => {\n    e.stopPropagation();\n    setDragNodeHighlight(false);\n    context.onNodeDragEnd(e, props);\n  };\n  const onDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragNodeHighlight(false);\n    context.onNodeDrop(e, props);\n  };\n\n  // ======= Expand: Node Expansion =======\n  const onExpand = e => {\n    if (loading) {\n      return;\n    }\n    context.onNodeExpand(e, convertNodePropsToEventData(props));\n  };\n\n  // ======= State: Has Children =======\n  const hasChildren = React.useMemo(() => {\n    const {\n      children\n    } = getEntity(context.keyEntities, eventKey) || {};\n    return Boolean((children || []).length);\n  }, [context.keyEntities, eventKey]);\n\n  // ======= State: Leaf Check =======\n  const memoizedIsLeaf = React.useMemo(() => {\n    return isLeafNode(isLeaf, context.loadData, hasChildren, props.loaded);\n  }, [isLeaf, context.loadData, hasChildren, props.loaded]);\n\n  // ============== Effect ==============\n  React.useEffect(() => {\n    // Load data to avoid default expanded tree without data\n    if (loading) {\n      return;\n    }\n    // read from state to avoid loadData at same time\n    if (typeof context.loadData === 'function' && expanded && !memoizedIsLeaf && !props.loaded) {\n      // We needn't reload data when has children in sync logic\n      // It's only needed in node expanded\n      context.onNodeLoad(convertNodePropsToEventData(props));\n    }\n  }, [loading, context.loadData, context.onNodeLoad, expanded, memoizedIsLeaf, props]);\n\n  // ==================== Render: Drag Handler ====================\n  const dragHandlerNode = React.useMemo(() => {\n    if (!context.draggable?.icon) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: `${context.prefixCls}-draggable-icon`\n    }, context.draggable.icon);\n  }, [context.draggable]);\n\n  // ====================== Render: Switcher ======================\n  const renderSwitcherIconDom = isInternalLeaf => {\n    const switcherIcon = props.switcherIcon || context.switcherIcon;\n    // if switcherIconDom is null, no render switcher span\n    if (typeof switcherIcon === 'function') {\n      return switcherIcon({\n        ...props,\n        isLeaf: isInternalLeaf\n      });\n    }\n    return switcherIcon;\n  };\n\n  // Switcher\n  const renderSwitcher = () => {\n    if (memoizedIsLeaf) {\n      // if switcherIconDom is null, no render switcher span\n      const switcherIconDom = renderSwitcherIconDom(true);\n      return switcherIconDom !== false ? /*#__PURE__*/React.createElement(\"span\", {\n        className: clsx(`${context.prefixCls}-switcher`, `${context.prefixCls}-switcher-noop`)\n      }, switcherIconDom) : null;\n    }\n    const switcherIconDom = renderSwitcherIconDom(false);\n    return switcherIconDom !== false ? /*#__PURE__*/React.createElement(\"span\", {\n      onClick: onExpand,\n      className: clsx(`${context.prefixCls}-switcher`, `${context.prefixCls}-switcher_${expanded ? ICON_OPEN : ICON_CLOSE}`)\n    }, switcherIconDom) : null;\n  };\n\n  // ====================== Checkbox ======================\n  const checkboxNode = React.useMemo(() => {\n    if (!isCheckable) {\n      return null;\n    }\n\n    // [Legacy] Custom element should be separate with `checkable` in future\n    const $custom = typeof isCheckable !== 'boolean' ? isCheckable : null;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: clsx(`${context.prefixCls}-checkbox`, {\n        [`${context.prefixCls}-checkbox-checked`]: checked,\n        [`${context.prefixCls}-checkbox-indeterminate`]: !checked && halfChecked,\n        [`${context.prefixCls}-checkbox-disabled`]: isDisabled || props.disableCheckbox\n      }),\n      onClick: onCheck,\n      role: \"checkbox\",\n      \"aria-checked\": halfChecked ? 'mixed' : checked,\n      \"aria-disabled\": isDisabled || props.disableCheckbox,\n      \"aria-labelledby\": nodeId\n    }, $custom);\n  }, [isCheckable, checked, halfChecked, isDisabled, props.disableCheckbox, nodeId]);\n\n  // ============== State: Node State (Open/Close) ==============\n  const nodeState = React.useMemo(() => {\n    if (memoizedIsLeaf) {\n      return null;\n    }\n    return expanded ? ICON_OPEN : ICON_CLOSE;\n  }, [memoizedIsLeaf, expanded]);\n\n  // ==================== Render: Title + Icon ====================\n  const iconNode = React.useMemo(() => {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: clsx(treeClassNames?.itemIcon, `${context.prefixCls}-iconEle`, `${context.prefixCls}-icon__${nodeState || 'docu'}`, {\n        [`${context.prefixCls}-icon_loading`]: loading\n      }),\n      style: styles?.itemIcon\n    });\n  }, [context.prefixCls, nodeState, loading]);\n\n  // =================== Drop Indicator ===================\n  const dropIndicatorNode = React.useMemo(() => {\n    const rootDraggable = Boolean(context.draggable);\n    // allowDrop is calculated in Tree.tsx, there is no need for calc it here\n    const showIndicator = !props.disabled && rootDraggable && context.dragOverNodeKey === eventKey;\n    if (!showIndicator) {\n      return null;\n    }\n    return context.dropIndicatorRender({\n      dropPosition: context.dropPosition,\n      dropLevelOffset: context.dropLevelOffset,\n      indent: context.indent,\n      prefixCls: context.prefixCls,\n      direction: context.direction\n    });\n  }, [context.dropPosition, context.dropLevelOffset, context.indent, context.prefixCls, context.direction, context.draggable, context.dragOverNodeKey, context.dropIndicatorRender]);\n\n  // Icon + Title\n  const selectorNode = React.useMemo(() => {\n    const {\n      title = defaultTitle\n    } = props;\n    const wrapClass = `${context.prefixCls}-node-content-wrapper`;\n\n    // Icon - Still show loading icon when loading without showIcon\n    let $icon;\n    if (context.showIcon) {\n      const currentIcon = props.icon || context.icon;\n      $icon = currentIcon ? /*#__PURE__*/React.createElement(\"span\", {\n        className: clsx(treeClassNames?.itemIcon, `${context.prefixCls}-iconEle`, `${context.prefixCls}-icon__customize`),\n        style: styles?.itemIcon\n      }, typeof currentIcon === 'function' ? currentIcon(props) : currentIcon) : iconNode;\n    } else if (context.loadData && loading) {\n      $icon = iconNode;\n    }\n\n    // Title\n    let titleNode;\n    if (typeof title === 'function') {\n      titleNode = title(data);\n    } else if (context.titleRender) {\n      titleNode = context.titleRender(data);\n    } else {\n      titleNode = title;\n    }\n    return /*#__PURE__*/React.createElement(\"span\", {\n      ref: selectHandleRef,\n      title: typeof title === 'string' ? title : '',\n      className: clsx(wrapClass, `${wrapClass}-${nodeState || 'normal'}`, {\n        [`${context.prefixCls}-node-selected`]: !isDisabled && (selected || dragNodeHighlight)\n      }),\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onContextMenu: onContextMenu,\n      onClick: onSelectorClick,\n      onDoubleClick: onSelectorDoubleClick\n    }, $icon, /*#__PURE__*/React.createElement(\"span\", {\n      className: clsx(`${context.prefixCls}-title`, treeClassNames?.itemTitle),\n      style: styles?.itemTitle\n    }, titleNode), dropIndicatorNode);\n  }, [context.prefixCls, context.showIcon, props, context.icon, iconNode, context.titleRender, data, nodeState, onMouseEnter, onMouseLeave, onContextMenu, onSelectorClick, onSelectorDoubleClick]);\n  const dataOrAriaAttributeProps = pickAttrs(otherProps, {\n    aria: true,\n    data: true\n  });\n  const {\n    level\n  } = getEntity(context.keyEntities, eventKey) || {};\n  const isEndNode = isEnd[isEnd.length - 1];\n  const draggableWithoutDisabled = !isDisabled && isDraggable;\n  const dragging = context.draggingNodeKey === eventKey;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: domRef,\n    role: \"treeitem\",\n    id: nodeId,\n    \"aria-expanded\": memoizedIsLeaf ? undefined : expanded,\n    \"aria-selected\": isSelectable && !isDisabled ? selected : undefined,\n    \"aria-checked\": isCheckable && !isDisabled ? halfChecked ? 'mixed' : checked : undefined,\n    \"aria-disabled\": isDisabled,\n    className: clsx(className, `${context.prefixCls}-treenode`, treeClassNames?.item, {\n      [`${context.prefixCls}-treenode-disabled`]: isDisabled,\n      [`${context.prefixCls}-treenode-switcher-${expanded ? 'open' : 'close'}`]: !isLeaf,\n      [`${context.prefixCls}-treenode-checkbox-checked`]: checked,\n      [`${context.prefixCls}-treenode-checkbox-indeterminate`]: halfChecked,\n      [`${context.prefixCls}-treenode-selected`]: selected,\n      [`${context.prefixCls}-treenode-loading`]: loading,\n      [`${context.prefixCls}-treenode-active`]: active,\n      [`${context.prefixCls}-treenode-leaf-last`]: isEndNode,\n      [`${context.prefixCls}-treenode-draggable`]: isDraggable,\n      dragging,\n      'drop-target': context.dropTargetKey === eventKey,\n      'drop-container': context.dropContainerKey === eventKey,\n      'drag-over': !isDisabled && dragOver,\n      'drag-over-gap-top': !isDisabled && dragOverGapTop,\n      'drag-over-gap-bottom': !isDisabled && dragOverGapBottom,\n      'filter-node': context.filterTreeNode?.(convertNodePropsToEventData(props)),\n      [`${context.prefixCls}-treenode-leaf`]: memoizedIsLeaf\n    }),\n    style: {\n      ...style,\n      ...styles?.item\n    }\n    // Draggable config\n    ,\n    draggable: draggableWithoutDisabled,\n    onDragStart: draggableWithoutDisabled ? onDragStart : undefined\n    // Drop config\n    ,\n    onDragEnter: isDraggable ? onDragEnter : undefined,\n    onDragOver: isDraggable ? onDragOver : undefined,\n    onDragLeave: isDraggable ? onDragLeave : undefined,\n    onDrop: isDraggable ? onDrop : undefined,\n    onDragEnd: isDraggable ? onDragEnd : undefined,\n    onMouseMove: onMouseMove\n  }, dataOrAriaAttributeProps), /*#__PURE__*/React.createElement(Indent, {\n    prefixCls: context.prefixCls,\n    level: level,\n    isStart: isStart,\n    isEnd: isEnd\n  }), dragHandlerNode, renderSwitcher(), checkboxNode, selectorNode);\n};\nTreeNode.isTreeNode = 1;\nif (process.env.NODE_ENV !== 'production') {\n  TreeNode.displayName = 'TreeNode';\n}\nexport default TreeNode;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}