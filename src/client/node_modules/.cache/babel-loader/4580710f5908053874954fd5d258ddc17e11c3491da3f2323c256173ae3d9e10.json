{"ast":null,"code":"var _jsxFileName = \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/src/components/DailyAccountability.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { CalendarIcon, CheckCircleIcon, XCircleIcon, ClockIcon, ExclamationTriangleIcon, FireIcon, ChartBarIcon, TrophyIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DailyAccountability = ({\n  accountId = null,\n  compact = false\n}) => {\n  _s();\n  const [dailyData, setDailyData] = useState([]);\n  const [streakData, setStreakData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchDailyAccountability();\n  }, [accountId]);\n  const fetchDailyAccountability = async () => {\n    try {\n      const endpoint = accountId ? `/api/accountability/account/${accountId}` : '/api/accountability/daily';\n\n      // For demo, generate sample data\n      const sampleData = generateSampleDailyData();\n      setDailyData(sampleData.daily);\n      setStreakData(sampleData.streak);\n    } catch (error) {\n      console.error('Error fetching daily accountability:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const generateSampleDailyData = () => {\n    const today = new Date();\n    const days = [];\n\n    // Generate last 7 days\n    for (let i = 6; i >= 0; i--) {\n      const date = new Date(today);\n      date.setDate(date.getDate() - i);\n      const dateStr = date.toISOString().split('T')[0];\n\n      // Sample commitments for each day\n      const commitments = accountId ? generateAccountCommitments(dateStr, i) : generateDailyCommitments(dateStr, i);\n      days.push({\n        date: dateStr,\n        dayName: date.toLocaleDateString('en-US', {\n          weekday: 'short'\n        }),\n        commitments\n      });\n    }\n\n    // Calculate streak\n    let currentStreak = 0;\n    let maxStreak = 0;\n    let tempStreak = 0;\n    days.reverse().forEach(day => {\n      const completed = day.commitments.filter(c => c.status === 'completed').length;\n      const total = day.commitments.length;\n      const completionRate = total > 0 ? completed / total : 0;\n      if (completionRate >= 0.8) {\n        // 80% completion rate\n        tempStreak++;\n        if (tempStreak === 1) currentStreak = tempStreak;else if (tempStreak > currentStreak) currentStreak = tempStreak;\n        maxStreak = Math.max(maxStreak, tempStreak);\n      } else {\n        if (tempStreak === currentStreak) currentStreak = 0;\n        tempStreak = 0;\n      }\n    });\n    days.reverse();\n    return {\n      daily: days,\n      streak: {\n        current: currentStreak,\n        max: maxStreak,\n        completionRate: calculateOverallCompletion(days)\n      }\n    };\n  };\n  const generateAccountCommitments = (dateStr, daysAgo) => {\n    const accountCommitments = [{\n      task: 'Follow up on proposal',\n      priority: 'high'\n    }, {\n      task: 'Research decision makers',\n      priority: 'medium'\n    }, {\n      task: 'Update CRM notes',\n      priority: 'low'\n    }, {\n      task: 'Schedule demo call',\n      priority: 'high'\n    }, {\n      task: 'Send case study',\n      priority: 'medium'\n    }];\n    return accountCommitments.slice(0, Math.floor(Math.random() * 3) + 2).map((commitment, idx) => ({\n      ...commitment,\n      id: `${dateStr}-${idx}`,\n      status: daysAgo === 0 ? 'pending' : daysAgo === 1 && Math.random() > 0.3 ? 'skipped' : Math.random() > 0.2 ? 'completed' : 'skipped'\n    }));\n  };\n  const generateDailyCommitments = (dateStr, daysAgo) => {\n    const dailyCommitments = [{\n      task: 'Make 10 outreach calls',\n      priority: 'high'\n    }, {\n      task: 'Send 5 follow-up emails',\n      priority: 'high'\n    }, {\n      task: 'Update Salesforce pipeline',\n      priority: 'medium'\n    }, {\n      task: 'Research 3 new prospects',\n      priority: 'medium'\n    }, {\n      task: 'LinkedIn outreach (5 connections)',\n      priority: 'medium'\n    }, {\n      task: 'Review and respond to proposals',\n      priority: 'high'\n    }, {\n      task: 'Schedule next week meetings',\n      priority: 'low'\n    }];\n    return dailyCommitments.slice(0, Math.floor(Math.random() * 4) + 3).map((commitment, idx) => ({\n      ...commitment,\n      id: `${dateStr}-${idx}`,\n      status: daysAgo === 0 ? Math.random() > 0.5 ? 'pending' : 'completed' : daysAgo === 1 && Math.random() > 0.4 ? 'skipped' : Math.random() > 0.25 ? 'completed' : 'skipped'\n    }));\n  };\n  const calculateOverallCompletion = days => {\n    const allCommitments = days.flatMap(day => day.commitments);\n    const completed = allCommitments.filter(c => c.status === 'completed').length;\n    return allCommitments.length > 0 ? completed / allCommitments.length * 100 : 0;\n  };\n  const getCommitmentStatus = status => {\n    switch (status) {\n      case 'completed':\n        return {\n          icon: CheckCircleIcon,\n          color: 'text-green-600'\n        };\n      case 'pending':\n        return {\n          icon: ClockIcon,\n          color: 'text-orange-600'\n        };\n      case 'skipped':\n        return {\n          icon: XCircleIcon,\n          color: 'text-red-600'\n        };\n      default:\n        return {\n          icon: ClockIcon,\n          color: 'text-gray-600'\n        };\n    }\n  };\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case 'high':\n        return 'bg-red-100 text-red-800';\n      case 'medium':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'low':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n  const getDayCompletionColor = day => {\n    const completed = day.commitments.filter(c => c.status === 'completed').length;\n    const total = day.commitments.length;\n    const rate = total > 0 ? completed / total : 0;\n    if (rate >= 0.8) return 'bg-green-100 border-green-300';\n    if (rate >= 0.5) return 'bg-yellow-100 border-yellow-300';\n    if (day.commitments.some(c => c.status === 'skipped')) return 'bg-red-100 border-red-300';\n    return 'bg-gray-100 border-gray-300';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-32\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this);\n  }\n  if (compact) {\n    // Compact view for dashboard widgets\n    const todayData = dailyData.find(day => day.date === new Date().toISOString().split('T')[0]);\n    const skippedToday = (todayData === null || todayData === void 0 ? void 0 : todayData.commitments.filter(c => c.status === 'skipped').length) || 0;\n    const pendingToday = (todayData === null || todayData === void 0 ? void 0 : todayData.commitments.filter(c => c.status === 'pending').length) || 0;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg border border-slate-200 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-slate-900 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), \"Daily Accountability\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), streakData && streakData.current > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1 text-orange-600\",\n          children: [/*#__PURE__*/_jsxDEV(FireIcon, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium\",\n            children: [streakData.current, \" day streak\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), skippedToday > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-lg p-3 mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-800 text-sm font-medium\",\n          children: [\"\\u26A0\\uFE0F \", skippedToday, \" commitment\", skippedToday > 1 ? 's' : '', \" skipped today\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this), pendingToday > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-slate-600\",\n        children: [pendingToday, \" commitment\", pendingToday > 1 ? 's' : '', \" remaining today\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), pendingToday === 0 && skippedToday === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-green-600 text-sm font-medium\",\n        children: \"\\u2705 All commitments completed!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [streakData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border border-slate-200 p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(FireIcon, {\n            className: \"h-5 w-5 text-orange-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-slate-900\",\n              children: streakData.current\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-slate-600\",\n              children: \"Current Streak\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border border-slate-200 p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(TrophyIcon, {\n            className: \"h-5 w-5 text-yellow-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-slate-900\",\n              children: streakData.max\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-slate-600\",\n              children: \"Best Streak\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border border-slate-200 p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(ChartBarIcon, {\n            className: \"h-5 w-5 text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-slate-900\",\n              children: [Math.round(streakData.completionRate), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-slate-600\",\n              children: \"Completion Rate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg border border-slate-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-slate-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-slate-900 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), accountId ? 'Account Daily Commitments' : 'Daily Sales Commitments']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-slate-600 mt-1\",\n          children: \"Last 7 days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divide-y divide-slate-200\",\n        children: dailyData.map((day, dayIndex) => {\n          const completed = day.commitments.filter(c => c.status === 'completed').length;\n          const skipped = day.commitments.filter(c => c.status === 'skipped').length;\n          const pending = day.commitments.filter(c => c.status === 'pending').length;\n          const total = day.commitments.length;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 ${getDayCompletionColor(day)}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-slate-900\",\n                  children: [day.dayName, \" \", new Date(day.date).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this), day.date === new Date().toISOString().split('T')[0] && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700 font-medium\",\n                  children: \"Today\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-4 text-sm\",\n                children: [completed > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-600\",\n                  children: [completed, \" \\u2705\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 23\n                }, this), pending > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-orange-600\",\n                  children: [pending, \" \\u23F3\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 23\n                }, this), skipped > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-600 font-medium\",\n                  children: [skipped, \" \\u274C\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-slate-500\",\n                  children: [Math.round(completed / total * 100), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: day.commitments.map((commitment, commitmentIndex) => {\n                const statusInfo = getCommitmentStatus(commitment.status);\n                const StatusIcon = statusInfo.icon;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(StatusIcon, {\n                    className: `h-4 w-4 ${statusInfo.color}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex-1 text-sm text-slate-700\",\n                    children: commitment.task\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `text-xs px-2 py-1 rounded-full ${getPriorityColor(commitment.priority)}`,\n                    children: commitment.priority\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 25\n                  }, this)]\n                }, commitmentIndex, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this), skipped > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 pt-3 border-t border-red-200\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 text-red-700 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(ExclamationTriangleIcon, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: [skipped, \" commitment\", skipped > 1 ? 's' : '', \" skipped - consistency wins deals!\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 19\n            }, this)]\n          }, dayIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n};\n_s(DailyAccountability, \"5pwqZCCWhTrKsW8NB/BRZNKQBSo=\");\n_c = DailyAccountability;\nexport default DailyAccountability;\nvar _c;\n$RefreshReg$(_c, \"DailyAccountability\");","map":{"version":3,"names":["React","useState","useEffect","CalendarIcon","CheckCircleIcon","XCircleIcon","ClockIcon","ExclamationTriangleIcon","FireIcon","ChartBarIcon","TrophyIcon","jsxDEV","_jsxDEV","DailyAccountability","accountId","compact","_s","dailyData","setDailyData","streakData","setStreakData","loading","setLoading","fetchDailyAccountability","endpoint","sampleData","generateSampleDailyData","daily","streak","error","console","today","Date","days","i","date","setDate","getDate","dateStr","toISOString","split","commitments","generateAccountCommitments","generateDailyCommitments","push","dayName","toLocaleDateString","weekday","currentStreak","maxStreak","tempStreak","reverse","forEach","day","completed","filter","c","status","length","total","completionRate","Math","max","current","calculateOverallCompletion","daysAgo","accountCommitments","task","priority","slice","floor","random","map","commitment","idx","id","dailyCommitments","allCommitments","flatMap","getCommitmentStatus","icon","color","getPriorityColor","getDayCompletionColor","rate","some","className","children","fileName","_jsxFileName","lineNumber","columnNumber","todayData","find","skippedToday","pendingToday","round","dayIndex","skipped","pending","commitmentIndex","statusInfo","StatusIcon","_c","$RefreshReg$"],"sources":["/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/src/components/DailyAccountability.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  CalendarIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ClockIcon,\n  ExclamationTriangleIcon,\n  FireIcon,\n  ChartBarIcon,\n  TrophyIcon\n} from '@heroicons/react/24/outline';\n\nconst DailyAccountability = ({ accountId = null, compact = false }) => {\n  const [dailyData, setDailyData] = useState([]);\n  const [streakData, setStreakData] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchDailyAccountability();\n  }, [accountId]);\n\n  const fetchDailyAccountability = async () => {\n    try {\n      const endpoint = accountId \n        ? `/api/accountability/account/${accountId}` \n        : '/api/accountability/daily';\n      \n      // For demo, generate sample data\n      const sampleData = generateSampleDailyData();\n      setDailyData(sampleData.daily);\n      setStreakData(sampleData.streak);\n    } catch (error) {\n      console.error('Error fetching daily accountability:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateSampleDailyData = () => {\n    const today = new Date();\n    const days = [];\n    \n    // Generate last 7 days\n    for (let i = 6; i >= 0; i--) {\n      const date = new Date(today);\n      date.setDate(date.getDate() - i);\n      const dateStr = date.toISOString().split('T')[0];\n      \n      // Sample commitments for each day\n      const commitments = accountId ? \n        generateAccountCommitments(dateStr, i) : \n        generateDailyCommitments(dateStr, i);\n      \n      days.push({\n        date: dateStr,\n        dayName: date.toLocaleDateString('en-US', { weekday: 'short' }),\n        commitments\n      });\n    }\n    \n    // Calculate streak\n    let currentStreak = 0;\n    let maxStreak = 0;\n    let tempStreak = 0;\n    \n    days.reverse().forEach(day => {\n      const completed = day.commitments.filter(c => c.status === 'completed').length;\n      const total = day.commitments.length;\n      const completionRate = total > 0 ? completed / total : 0;\n      \n      if (completionRate >= 0.8) { // 80% completion rate\n        tempStreak++;\n        if (tempStreak === 1) currentStreak = tempStreak;\n        else if (tempStreak > currentStreak) currentStreak = tempStreak;\n        maxStreak = Math.max(maxStreak, tempStreak);\n      } else {\n        if (tempStreak === currentStreak) currentStreak = 0;\n        tempStreak = 0;\n      }\n    });\n    \n    days.reverse();\n    \n    return {\n      daily: days,\n      streak: {\n        current: currentStreak,\n        max: maxStreak,\n        completionRate: calculateOverallCompletion(days)\n      }\n    };\n  };\n\n  const generateAccountCommitments = (dateStr, daysAgo) => {\n    const accountCommitments = [\n      { task: 'Follow up on proposal', priority: 'high' },\n      { task: 'Research decision makers', priority: 'medium' },\n      { task: 'Update CRM notes', priority: 'low' },\n      { task: 'Schedule demo call', priority: 'high' },\n      { task: 'Send case study', priority: 'medium' }\n    ];\n    \n    return accountCommitments.slice(0, Math.floor(Math.random() * 3) + 2).map((commitment, idx) => ({\n      ...commitment,\n      id: `${dateStr}-${idx}`,\n      status: daysAgo === 0 ? 'pending' : \n              daysAgo === 1 && Math.random() > 0.3 ? 'skipped' : \n              Math.random() > 0.2 ? 'completed' : 'skipped'\n    }));\n  };\n\n  const generateDailyCommitments = (dateStr, daysAgo) => {\n    const dailyCommitments = [\n      { task: 'Make 10 outreach calls', priority: 'high' },\n      { task: 'Send 5 follow-up emails', priority: 'high' },\n      { task: 'Update Salesforce pipeline', priority: 'medium' },\n      { task: 'Research 3 new prospects', priority: 'medium' },\n      { task: 'LinkedIn outreach (5 connections)', priority: 'medium' },\n      { task: 'Review and respond to proposals', priority: 'high' },\n      { task: 'Schedule next week meetings', priority: 'low' }\n    ];\n    \n    return dailyCommitments.slice(0, Math.floor(Math.random() * 4) + 3).map((commitment, idx) => ({\n      ...commitment,\n      id: `${dateStr}-${idx}`,\n      status: daysAgo === 0 ? (Math.random() > 0.5 ? 'pending' : 'completed') : \n              daysAgo === 1 && Math.random() > 0.4 ? 'skipped' : \n              Math.random() > 0.25 ? 'completed' : 'skipped'\n    }));\n  };\n\n  const calculateOverallCompletion = (days) => {\n    const allCommitments = days.flatMap(day => day.commitments);\n    const completed = allCommitments.filter(c => c.status === 'completed').length;\n    return allCommitments.length > 0 ? (completed / allCommitments.length * 100) : 0;\n  };\n\n  const getCommitmentStatus = (status) => {\n    switch (status) {\n      case 'completed': return { icon: CheckCircleIcon, color: 'text-green-600' };\n      case 'pending': return { icon: ClockIcon, color: 'text-orange-600' };\n      case 'skipped': return { icon: XCircleIcon, color: 'text-red-600' };\n      default: return { icon: ClockIcon, color: 'text-gray-600' };\n    }\n  };\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'high': return 'bg-red-100 text-red-800';\n      case 'medium': return 'bg-yellow-100 text-yellow-800';\n      case 'low': return 'bg-gray-100 text-gray-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getDayCompletionColor = (day) => {\n    const completed = day.commitments.filter(c => c.status === 'completed').length;\n    const total = day.commitments.length;\n    const rate = total > 0 ? completed / total : 0;\n    \n    if (rate >= 0.8) return 'bg-green-100 border-green-300';\n    if (rate >= 0.5) return 'bg-yellow-100 border-yellow-300';\n    if (day.commitments.some(c => c.status === 'skipped')) return 'bg-red-100 border-red-300';\n    return 'bg-gray-100 border-gray-300';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-32\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600\"></div>\n      </div>\n    );\n  }\n\n  if (compact) {\n    // Compact view for dashboard widgets\n    const todayData = dailyData.find(day => day.date === new Date().toISOString().split('T')[0]);\n    const skippedToday = todayData?.commitments.filter(c => c.status === 'skipped').length || 0;\n    const pendingToday = todayData?.commitments.filter(c => c.status === 'pending').length || 0;\n    \n    return (\n      <div className=\"bg-white rounded-lg border border-slate-200 p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"font-semibold text-slate-900 flex items-center gap-2\">\n            <CalendarIcon className=\"h-4 w-4\" />\n            Daily Accountability\n          </h3>\n          {streakData && streakData.current > 0 && (\n            <div className=\"flex items-center gap-1 text-orange-600\">\n              <FireIcon className=\"h-4 w-4\" />\n              <span className=\"text-sm font-medium\">{streakData.current} day streak</span>\n            </div>\n          )}\n        </div>\n        \n        {skippedToday > 0 && (\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-3 mb-3\">\n            <div className=\"text-red-800 text-sm font-medium\">\n              ⚠️ {skippedToday} commitment{skippedToday > 1 ? 's' : ''} skipped today\n            </div>\n          </div>\n        )}\n        \n        {pendingToday > 0 && (\n          <div className=\"text-sm text-slate-600\">\n            {pendingToday} commitment{pendingToday > 1 ? 's' : ''} remaining today\n          </div>\n        )}\n        \n        {pendingToday === 0 && skippedToday === 0 && (\n          <div className=\"text-green-600 text-sm font-medium\">✅ All commitments completed!</div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Streak Stats */}\n      {streakData && (\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"bg-white rounded-lg border border-slate-200 p-4\">\n            <div className=\"flex items-center gap-3\">\n              <FireIcon className=\"h-5 w-5 text-orange-600\" />\n              <div>\n                <div className=\"text-2xl font-bold text-slate-900\">{streakData.current}</div>\n                <div className=\"text-sm text-slate-600\">Current Streak</div>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg border border-slate-200 p-4\">\n            <div className=\"flex items-center gap-3\">\n              <TrophyIcon className=\"h-5 w-5 text-yellow-600\" />\n              <div>\n                <div className=\"text-2xl font-bold text-slate-900\">{streakData.max}</div>\n                <div className=\"text-sm text-slate-600\">Best Streak</div>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg border border-slate-200 p-4\">\n            <div className=\"flex items-center gap-3\">\n              <ChartBarIcon className=\"h-5 w-5 text-blue-600\" />\n              <div>\n                <div className=\"text-2xl font-bold text-slate-900\">{Math.round(streakData.completionRate)}%</div>\n                <div className=\"text-sm text-slate-600\">Completion Rate</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Daily Breakdown */}\n      <div className=\"bg-white rounded-lg border border-slate-200\">\n        <div className=\"px-6 py-4 border-b border-slate-200\">\n          <h3 className=\"text-lg font-semibold text-slate-900 flex items-center gap-2\">\n            <CalendarIcon className=\"h-5 w-5\" />\n            {accountId ? 'Account Daily Commitments' : 'Daily Sales Commitments'}\n          </h3>\n          <p className=\"text-sm text-slate-600 mt-1\">Last 7 days</p>\n        </div>\n        \n        <div className=\"divide-y divide-slate-200\">\n          {dailyData.map((day, dayIndex) => {\n            const completed = day.commitments.filter(c => c.status === 'completed').length;\n            const skipped = day.commitments.filter(c => c.status === 'skipped').length;\n            const pending = day.commitments.filter(c => c.status === 'pending').length;\n            const total = day.commitments.length;\n            \n            return (\n              <div key={dayIndex} className={`p-4 ${getDayCompletionColor(day)}`}>\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div>\n                    <h4 className=\"font-medium text-slate-900\">\n                      {day.dayName} {new Date(day.date).toLocaleDateString()}\n                    </h4>\n                    {day.date === new Date().toISOString().split('T')[0] && (\n                      <span className=\"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700 font-medium\">\n                        Today\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"flex items-center gap-4 text-sm\">\n                    {completed > 0 && (\n                      <span className=\"text-green-600\">{completed} ✅</span>\n                    )}\n                    {pending > 0 && (\n                      <span className=\"text-orange-600\">{pending} ⏳</span>\n                    )}\n                    {skipped > 0 && (\n                      <span className=\"text-red-600 font-medium\">{skipped} ❌</span>\n                    )}\n                    <span className=\"text-slate-500\">\n                      {Math.round((completed / total) * 100)}%\n                    </span>\n                  </div>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  {day.commitments.map((commitment, commitmentIndex) => {\n                    const statusInfo = getCommitmentStatus(commitment.status);\n                    const StatusIcon = statusInfo.icon;\n                    \n                    return (\n                      <div key={commitmentIndex} className=\"flex items-center gap-3\">\n                        <StatusIcon className={`h-4 w-4 ${statusInfo.color}`} />\n                        <span className=\"flex-1 text-sm text-slate-700\">{commitment.task}</span>\n                        <span className={`text-xs px-2 py-1 rounded-full ${getPriorityColor(commitment.priority)}`}>\n                          {commitment.priority}\n                        </span>\n                      </div>\n                    );\n                  })}\n                </div>\n\n                {/* Skipped Warning */}\n                {skipped > 0 && (\n                  <div className=\"mt-3 pt-3 border-t border-red-200\">\n                    <div className=\"flex items-center gap-2 text-red-700 text-sm\">\n                      <ExclamationTriangleIcon className=\"h-4 w-4\" />\n                      <span className=\"font-medium\">\n                        {skipped} commitment{skipped > 1 ? 's' : ''} skipped - consistency wins deals!\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DailyAccountability;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}