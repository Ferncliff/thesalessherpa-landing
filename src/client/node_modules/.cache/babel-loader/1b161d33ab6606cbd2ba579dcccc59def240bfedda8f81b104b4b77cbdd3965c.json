{"ast":null,"code":"import _objectSpread from \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport get from \"./get\";\nfunction internalSet(entity, paths, value, removeIfUndefined) {\n  if (!paths.length) {\n    return value;\n  }\n  const [path, ...restPath] = paths;\n  let clone;\n  if (!entity && typeof path === 'number') {\n    clone = [];\n  } else if (Array.isArray(entity)) {\n    clone = [...entity];\n  } else {\n    clone = _objectSpread({}, entity);\n  }\n\n  // Delete prop if `removeIfUndefined` and value is undefined\n  if (removeIfUndefined && value === undefined && restPath.length === 1) {\n    delete clone[path][restPath[0]];\n  } else {\n    clone[path] = internalSet(clone[path], restPath, value, removeIfUndefined);\n  }\n  return clone;\n}\nexport default function set(entity, paths, value) {\n  let removeIfUndefined = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  // Do nothing if `removeIfUndefined` and parent object not exist\n  if (paths.length && removeIfUndefined && value === undefined && !get(entity, paths.slice(0, -1))) {\n    return entity;\n  }\n  return internalSet(entity, paths, value, removeIfUndefined);\n}\nfunction isObject(obj) {\n  return typeof obj === 'object' && obj !== null && Object.getPrototypeOf(obj) === Object.prototype;\n}\nfunction createEmpty(source) {\n  return Array.isArray(source) ? [] : {};\n}\nconst keys = typeof Reflect === 'undefined' ? Object.keys : Reflect.ownKeys;\n\n// ================================ Merge ================================\n\n/**\n * Merge multiple objects. Support custom merge logic.\n * @param sources object sources\n * @param config.prepareArray Customize array prepare function.\n * It will return empty [] by default.\n * So when match array, it will auto be override with next array in sources.\n */\nexport function mergeWith(sources) {\n  let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    prepareArray\n  } = config;\n  const finalPrepareArray = prepareArray || (() => []);\n  let clone = createEmpty(sources[0]);\n  sources.forEach(src => {\n    function internalMerge(path, parentLoopSet) {\n      const loopSet = new Set(parentLoopSet);\n      const value = get(src, path);\n      const isArr = Array.isArray(value);\n      if (isArr || isObject(value)) {\n        // Only add not loop obj\n        if (!loopSet.has(value)) {\n          loopSet.add(value);\n          const originValue = get(clone, path);\n          if (isArr) {\n            // Array will always be override\n            clone = set(clone, path, finalPrepareArray(originValue, value));\n          } else if (!originValue || typeof originValue !== 'object') {\n            // Init container if not exist\n            clone = set(clone, path, createEmpty(value));\n          }\n          keys(value).forEach(key => {\n            if (Object.getOwnPropertyDescriptor(value, key).enumerable) {\n              internalMerge([...path, key], loopSet);\n            }\n          });\n        }\n      } else {\n        clone = set(clone, path, value);\n      }\n    }\n    internalMerge([]);\n  });\n  return clone;\n}\n\n/**\n * Merge multiple objects into a new single object.\n * Arrays will be replaced by default.\n */\nexport function merge() {\n  for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n  return mergeWith(sources);\n}","map":{"version":3,"names":["get","internalSet","entity","paths","value","removeIfUndefined","length","path","restPath","clone","Array","isArray","_objectSpread","undefined","set","arguments","slice","isObject","obj","Object","getPrototypeOf","prototype","createEmpty","source","keys","Reflect","ownKeys","mergeWith","sources","config","prepareArray","finalPrepareArray","forEach","src","internalMerge","parentLoopSet","loopSet","Set","isArr","has","add","originValue","key","getOwnPropertyDescriptor","enumerable","merge","_len","_key"],"sources":["/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@rc-component/util/es/utils/set.js"],"sourcesContent":["import get from \"./get\";\nfunction internalSet(entity, paths, value, removeIfUndefined) {\n  if (!paths.length) {\n    return value;\n  }\n  const [path, ...restPath] = paths;\n  let clone;\n  if (!entity && typeof path === 'number') {\n    clone = [];\n  } else if (Array.isArray(entity)) {\n    clone = [...entity];\n  } else {\n    clone = {\n      ...entity\n    };\n  }\n\n  // Delete prop if `removeIfUndefined` and value is undefined\n  if (removeIfUndefined && value === undefined && restPath.length === 1) {\n    delete clone[path][restPath[0]];\n  } else {\n    clone[path] = internalSet(clone[path], restPath, value, removeIfUndefined);\n  }\n  return clone;\n}\nexport default function set(entity, paths, value, removeIfUndefined = false) {\n  // Do nothing if `removeIfUndefined` and parent object not exist\n  if (paths.length && removeIfUndefined && value === undefined && !get(entity, paths.slice(0, -1))) {\n    return entity;\n  }\n  return internalSet(entity, paths, value, removeIfUndefined);\n}\nfunction isObject(obj) {\n  return typeof obj === 'object' && obj !== null && Object.getPrototypeOf(obj) === Object.prototype;\n}\nfunction createEmpty(source) {\n  return Array.isArray(source) ? [] : {};\n}\nconst keys = typeof Reflect === 'undefined' ? Object.keys : Reflect.ownKeys;\n\n// ================================ Merge ================================\n\n/**\n * Merge multiple objects. Support custom merge logic.\n * @param sources object sources\n * @param config.prepareArray Customize array prepare function.\n * It will return empty [] by default.\n * So when match array, it will auto be override with next array in sources.\n */\nexport function mergeWith(sources, config = {}) {\n  const {\n    prepareArray\n  } = config;\n  const finalPrepareArray = prepareArray || (() => []);\n  let clone = createEmpty(sources[0]);\n  sources.forEach(src => {\n    function internalMerge(path, parentLoopSet) {\n      const loopSet = new Set(parentLoopSet);\n      const value = get(src, path);\n      const isArr = Array.isArray(value);\n      if (isArr || isObject(value)) {\n        // Only add not loop obj\n        if (!loopSet.has(value)) {\n          loopSet.add(value);\n          const originValue = get(clone, path);\n          if (isArr) {\n            // Array will always be override\n            clone = set(clone, path, finalPrepareArray(originValue, value));\n          } else if (!originValue || typeof originValue !== 'object') {\n            // Init container if not exist\n            clone = set(clone, path, createEmpty(value));\n          }\n          keys(value).forEach(key => {\n            if (Object.getOwnPropertyDescriptor(value, key).enumerable) {\n              internalMerge([...path, key], loopSet);\n            }\n          });\n        }\n      } else {\n        clone = set(clone, path, value);\n      }\n    }\n    internalMerge([]);\n  });\n  return clone;\n}\n\n/**\n * Merge multiple objects into a new single object.\n * Arrays will be replaced by default.\n */\nexport function merge(...sources) {\n  return mergeWith(sources);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}