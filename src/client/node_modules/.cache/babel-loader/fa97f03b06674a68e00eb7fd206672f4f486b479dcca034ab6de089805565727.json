{"ast":null,"code":"import _objectSpread from \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n/* eslint-disable default-case */\nimport { clsx } from 'clsx';\nimport * as React from 'react';\nimport useMemo from \"@rc-component/util/es/hooks/useMemo\";\nimport CascaderContext from \"../context\";\nimport { getFullPathKeys, isLeaf, scrollIntoParentView, toPathKey, toPathKeys, toPathValueStr } from \"../utils/commonUtil\";\nimport { toPathOptions } from \"../utils/treeUtil\";\nimport Column, { FIX_LABEL } from \"./Column\";\nimport useActive from \"./useActive\";\nimport useKeyboard from \"./useKeyboard\";\nconst RawOptionList = /*#__PURE__*/React.forwardRef((props, ref) => {\n  var _optionColumns$;\n  const {\n    prefixCls,\n    multiple,\n    searchValue,\n    toggleOpen,\n    notFoundContent,\n    direction,\n    open,\n    disabled,\n    lockOptions = false\n  } = props;\n  const containerRef = React.useRef(null);\n  const rtl = direction === 'rtl';\n  const {\n    options,\n    values,\n    halfValues,\n    fieldNames,\n    changeOnSelect,\n    onSelect,\n    searchOptions,\n    popupPrefixCls,\n    loadData,\n    expandTrigger\n  } = React.useContext(CascaderContext);\n  const mergedPrefixCls = popupPrefixCls || prefixCls;\n\n  // ========================= loadData =========================\n  const [loadingKeys, setLoadingKeys] = React.useState([]);\n  const internalLoadData = valueCells => {\n    // Do not load when search\n    if (!loadData || searchValue) {\n      return;\n    }\n    const optionList = toPathOptions(valueCells, options, fieldNames);\n    const rawOptions = optionList.map(_ref => {\n      let {\n        option\n      } = _ref;\n      return option;\n    });\n    const lastOption = rawOptions[rawOptions.length - 1];\n    if (lastOption && !isLeaf(lastOption, fieldNames)) {\n      const pathKey = toPathKey(valueCells);\n      setLoadingKeys(keys => [...keys, pathKey]);\n      loadData(rawOptions);\n    }\n  };\n\n  // zombieJ: This is bad. We should make this same as `rc-tree` to use Promise instead.\n  React.useEffect(() => {\n    if (loadingKeys.length) {\n      loadingKeys.forEach(loadingKey => {\n        const valueStrCells = toPathValueStr(loadingKey);\n        const optionList = toPathOptions(valueStrCells, options, fieldNames, true).map(_ref2 => {\n          let {\n            option\n          } = _ref2;\n          return option;\n        });\n        const lastOption = optionList[optionList.length - 1];\n        if (!lastOption || lastOption[fieldNames.children] || isLeaf(lastOption, fieldNames)) {\n          setLoadingKeys(keys => keys.filter(key => key !== loadingKey));\n        }\n      });\n    }\n  }, [options, loadingKeys, fieldNames]);\n\n  // ========================== Values ==========================\n  const checkedSet = React.useMemo(() => new Set(toPathKeys(values)), [values]);\n  const halfCheckedSet = React.useMemo(() => new Set(toPathKeys(halfValues)), [halfValues]);\n\n  // ====================== Accessibility =======================\n  const [activeValueCells, setActiveValueCells] = useActive(multiple, open);\n\n  // =========================== Path ===========================\n  const onPathOpen = nextValueCells => {\n    setActiveValueCells(nextValueCells);\n\n    // Trigger loadData\n    internalLoadData(nextValueCells);\n  };\n  const isSelectable = option => {\n    if (disabled) {\n      return false;\n    }\n    const {\n      disabled: optionDisabled\n    } = option;\n    const isMergedLeaf = isLeaf(option, fieldNames);\n    return !optionDisabled && (isMergedLeaf || changeOnSelect || multiple);\n  };\n  const onPathSelect = function (valuePath, leaf) {\n    let fromKeyboard = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    onSelect(valuePath);\n    if (!multiple && (leaf || changeOnSelect && (expandTrigger === 'hover' || fromKeyboard))) {\n      toggleOpen(false);\n    }\n  };\n\n  // ========================== Option ==========================\n  const filteredOptions = React.useMemo(() => {\n    if (searchValue) {\n      return searchOptions;\n    }\n    return options;\n  }, [searchValue, searchOptions, options]);\n\n  // Update only when open or lockOptions\n  const mergedOptions = useMemo(() => filteredOptions, [open, lockOptions], (prev, next) => !!next[0] && !next[1]);\n\n  // ========================== Column ==========================\n  const optionColumns = React.useMemo(() => {\n    const optionList = [{\n      options: mergedOptions\n    }];\n    let currentList = mergedOptions;\n    const fullPathKeys = getFullPathKeys(currentList, fieldNames);\n    for (let i = 0; i < activeValueCells.length; i += 1) {\n      const activeValueCell = activeValueCells[i];\n      const currentOption = currentList.find((option, index) => (fullPathKeys[index] ? toPathKey(fullPathKeys[index]) : option[fieldNames.value]) === activeValueCell);\n      const subOptions = currentOption === null || currentOption === void 0 ? void 0 : currentOption[fieldNames.children];\n      if (!(subOptions !== null && subOptions !== void 0 && subOptions.length)) {\n        break;\n      }\n      currentList = subOptions;\n      optionList.push({\n        options: subOptions\n      });\n    }\n    return optionList;\n  }, [mergedOptions, activeValueCells, fieldNames]);\n\n  // ========================= Keyboard =========================\n  const onKeyboardSelect = (selectValueCells, option) => {\n    if (isSelectable(option)) {\n      onPathSelect(selectValueCells, isLeaf(option, fieldNames), true);\n    }\n  };\n  useKeyboard(ref, mergedOptions, fieldNames, activeValueCells, onPathOpen, onKeyboardSelect, {\n    direction,\n    searchValue,\n    toggleOpen,\n    open\n  });\n\n  // >>>>> Active Scroll\n  React.useEffect(() => {\n    if (searchValue) {\n      return;\n    }\n    for (let i = 0; i < activeValueCells.length; i += 1) {\n      var _containerRef$current;\n      const cellPath = activeValueCells.slice(0, i + 1);\n      const cellKeyPath = toPathKey(cellPath);\n      const ele = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.querySelector(\"li[data-path-key=\\\"\".concat(cellKeyPath.replace(/\\\\{0,2}\"/g, '\\\\\"'), \"\\\"]\") // matches unescaped double quotes\n      );\n      if (ele) {\n        scrollIntoParentView(ele);\n      }\n    }\n  }, [activeValueCells, searchValue]);\n\n  // ========================== Render ==========================\n  // >>>>> Empty\n  const isEmpty = !((_optionColumns$ = optionColumns[0]) !== null && _optionColumns$ !== void 0 && (_optionColumns$ = _optionColumns$.options) !== null && _optionColumns$ !== void 0 && _optionColumns$.length);\n  const emptyList = [{\n    [fieldNames.value]: '__EMPTY__',\n    [FIX_LABEL]: notFoundContent,\n    disabled: true\n  }];\n  const columnProps = _objectSpread(_objectSpread({}, props), {}, {\n    multiple: !isEmpty && multiple,\n    onSelect: onPathSelect,\n    onActive: onPathOpen,\n    onToggleOpen: toggleOpen,\n    checkedSet,\n    halfCheckedSet,\n    loadingKeys,\n    isSelectable\n  });\n\n  // >>>>> Columns\n  const mergedOptionColumns = isEmpty ? [{\n    options: emptyList\n  }] : optionColumns;\n  const columnNodes = mergedOptionColumns.map((col, index) => {\n    const prevValuePath = activeValueCells.slice(0, index);\n    const activeValue = activeValueCells[index];\n    return /*#__PURE__*/React.createElement(Column, _extends({\n      key: index\n    }, columnProps, {\n      prefixCls: mergedPrefixCls,\n      options: col.options,\n      prevValuePath: prevValuePath,\n      activeValue: activeValue\n    }));\n  });\n\n  // >>>>> Render\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(\"\".concat(mergedPrefixCls, \"-menus\"), {\n      [\"\".concat(mergedPrefixCls, \"-menu-empty\")]: isEmpty,\n      [\"\".concat(mergedPrefixCls, \"-rtl\")]: rtl\n    }),\n    ref: containerRef\n  }, columnNodes);\n});\nif (process.env.NODE_ENV !== 'production') {\n  RawOptionList.displayName = 'RawOptionList';\n}\nexport default RawOptionList;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","clsx","React","useMemo","CascaderContext","getFullPathKeys","isLeaf","scrollIntoParentView","toPathKey","toPathKeys","toPathValueStr","toPathOptions","Column","FIX_LABEL","useActive","useKeyboard","RawOptionList","forwardRef","props","ref","_optionColumns$","prefixCls","multiple","searchValue","toggleOpen","notFoundContent","direction","open","disabled","lockOptions","containerRef","useRef","rtl","options","values","halfValues","fieldNames","changeOnSelect","onSelect","searchOptions","popupPrefixCls","loadData","expandTrigger","useContext","mergedPrefixCls","loadingKeys","setLoadingKeys","useState","internalLoadData","valueCells","optionList","rawOptions","map","_ref","option","lastOption","pathKey","keys","useEffect","forEach","loadingKey","valueStrCells","_ref2","children","filter","checkedSet","Set","halfCheckedSet","activeValueCells","setActiveValueCells","onPathOpen","nextValueCells","isSelectable","optionDisabled","isMergedLeaf","onPathSelect","valuePath","leaf","fromKeyboard","undefined","filteredOptions","mergedOptions","prev","next","optionColumns","currentList","fullPathKeys","activeValueCell","currentOption","find","index","value","subOptions","push","onKeyboardSelect","selectValueCells","_containerRef$current","cellPath","slice","cellKeyPath","ele","current","querySelector","concat","replace","isEmpty","emptyList","columnProps","_objectSpread","onActive","onToggleOpen","mergedOptionColumns","columnNodes","col","prevValuePath","activeValue","createElement","className","process","env","NODE_ENV","displayName"],"sources":["/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@rc-component/cascader/es/OptionList/List.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n/* eslint-disable default-case */\nimport { clsx } from 'clsx';\nimport * as React from 'react';\nimport useMemo from \"@rc-component/util/es/hooks/useMemo\";\nimport CascaderContext from \"../context\";\nimport { getFullPathKeys, isLeaf, scrollIntoParentView, toPathKey, toPathKeys, toPathValueStr } from \"../utils/commonUtil\";\nimport { toPathOptions } from \"../utils/treeUtil\";\nimport Column, { FIX_LABEL } from \"./Column\";\nimport useActive from \"./useActive\";\nimport useKeyboard from \"./useKeyboard\";\nconst RawOptionList = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    prefixCls,\n    multiple,\n    searchValue,\n    toggleOpen,\n    notFoundContent,\n    direction,\n    open,\n    disabled,\n    lockOptions = false\n  } = props;\n  const containerRef = React.useRef(null);\n  const rtl = direction === 'rtl';\n  const {\n    options,\n    values,\n    halfValues,\n    fieldNames,\n    changeOnSelect,\n    onSelect,\n    searchOptions,\n    popupPrefixCls,\n    loadData,\n    expandTrigger\n  } = React.useContext(CascaderContext);\n  const mergedPrefixCls = popupPrefixCls || prefixCls;\n\n  // ========================= loadData =========================\n  const [loadingKeys, setLoadingKeys] = React.useState([]);\n  const internalLoadData = valueCells => {\n    // Do not load when search\n    if (!loadData || searchValue) {\n      return;\n    }\n    const optionList = toPathOptions(valueCells, options, fieldNames);\n    const rawOptions = optionList.map(({\n      option\n    }) => option);\n    const lastOption = rawOptions[rawOptions.length - 1];\n    if (lastOption && !isLeaf(lastOption, fieldNames)) {\n      const pathKey = toPathKey(valueCells);\n      setLoadingKeys(keys => [...keys, pathKey]);\n      loadData(rawOptions);\n    }\n  };\n\n  // zombieJ: This is bad. We should make this same as `rc-tree` to use Promise instead.\n  React.useEffect(() => {\n    if (loadingKeys.length) {\n      loadingKeys.forEach(loadingKey => {\n        const valueStrCells = toPathValueStr(loadingKey);\n        const optionList = toPathOptions(valueStrCells, options, fieldNames, true).map(({\n          option\n        }) => option);\n        const lastOption = optionList[optionList.length - 1];\n        if (!lastOption || lastOption[fieldNames.children] || isLeaf(lastOption, fieldNames)) {\n          setLoadingKeys(keys => keys.filter(key => key !== loadingKey));\n        }\n      });\n    }\n  }, [options, loadingKeys, fieldNames]);\n\n  // ========================== Values ==========================\n  const checkedSet = React.useMemo(() => new Set(toPathKeys(values)), [values]);\n  const halfCheckedSet = React.useMemo(() => new Set(toPathKeys(halfValues)), [halfValues]);\n\n  // ====================== Accessibility =======================\n  const [activeValueCells, setActiveValueCells] = useActive(multiple, open);\n\n  // =========================== Path ===========================\n  const onPathOpen = nextValueCells => {\n    setActiveValueCells(nextValueCells);\n\n    // Trigger loadData\n    internalLoadData(nextValueCells);\n  };\n  const isSelectable = option => {\n    if (disabled) {\n      return false;\n    }\n    const {\n      disabled: optionDisabled\n    } = option;\n    const isMergedLeaf = isLeaf(option, fieldNames);\n    return !optionDisabled && (isMergedLeaf || changeOnSelect || multiple);\n  };\n  const onPathSelect = (valuePath, leaf, fromKeyboard = false) => {\n    onSelect(valuePath);\n    if (!multiple && (leaf || changeOnSelect && (expandTrigger === 'hover' || fromKeyboard))) {\n      toggleOpen(false);\n    }\n  };\n\n  // ========================== Option ==========================\n  const filteredOptions = React.useMemo(() => {\n    if (searchValue) {\n      return searchOptions;\n    }\n    return options;\n  }, [searchValue, searchOptions, options]);\n\n  // Update only when open or lockOptions\n  const mergedOptions = useMemo(() => filteredOptions, [open, lockOptions], (prev, next) => !!next[0] && !next[1]);\n\n  // ========================== Column ==========================\n  const optionColumns = React.useMemo(() => {\n    const optionList = [{\n      options: mergedOptions\n    }];\n    let currentList = mergedOptions;\n    const fullPathKeys = getFullPathKeys(currentList, fieldNames);\n    for (let i = 0; i < activeValueCells.length; i += 1) {\n      const activeValueCell = activeValueCells[i];\n      const currentOption = currentList.find((option, index) => (fullPathKeys[index] ? toPathKey(fullPathKeys[index]) : option[fieldNames.value]) === activeValueCell);\n      const subOptions = currentOption?.[fieldNames.children];\n      if (!subOptions?.length) {\n        break;\n      }\n      currentList = subOptions;\n      optionList.push({\n        options: subOptions\n      });\n    }\n    return optionList;\n  }, [mergedOptions, activeValueCells, fieldNames]);\n\n  // ========================= Keyboard =========================\n  const onKeyboardSelect = (selectValueCells, option) => {\n    if (isSelectable(option)) {\n      onPathSelect(selectValueCells, isLeaf(option, fieldNames), true);\n    }\n  };\n  useKeyboard(ref, mergedOptions, fieldNames, activeValueCells, onPathOpen, onKeyboardSelect, {\n    direction,\n    searchValue,\n    toggleOpen,\n    open\n  });\n\n  // >>>>> Active Scroll\n  React.useEffect(() => {\n    if (searchValue) {\n      return;\n    }\n    for (let i = 0; i < activeValueCells.length; i += 1) {\n      const cellPath = activeValueCells.slice(0, i + 1);\n      const cellKeyPath = toPathKey(cellPath);\n      const ele = containerRef.current?.querySelector(`li[data-path-key=\"${cellKeyPath.replace(/\\\\{0,2}\"/g, '\\\\\"')}\"]` // matches unescaped double quotes\n      );\n      if (ele) {\n        scrollIntoParentView(ele);\n      }\n    }\n  }, [activeValueCells, searchValue]);\n\n  // ========================== Render ==========================\n  // >>>>> Empty\n  const isEmpty = !optionColumns[0]?.options?.length;\n  const emptyList = [{\n    [fieldNames.value]: '__EMPTY__',\n    [FIX_LABEL]: notFoundContent,\n    disabled: true\n  }];\n  const columnProps = {\n    ...props,\n    multiple: !isEmpty && multiple,\n    onSelect: onPathSelect,\n    onActive: onPathOpen,\n    onToggleOpen: toggleOpen,\n    checkedSet,\n    halfCheckedSet,\n    loadingKeys,\n    isSelectable\n  };\n\n  // >>>>> Columns\n  const mergedOptionColumns = isEmpty ? [{\n    options: emptyList\n  }] : optionColumns;\n  const columnNodes = mergedOptionColumns.map((col, index) => {\n    const prevValuePath = activeValueCells.slice(0, index);\n    const activeValue = activeValueCells[index];\n    return /*#__PURE__*/React.createElement(Column, _extends({\n      key: index\n    }, columnProps, {\n      prefixCls: mergedPrefixCls,\n      options: col.options,\n      prevValuePath: prevValuePath,\n      activeValue: activeValue\n    }));\n  });\n\n  // >>>>> Render\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(`${mergedPrefixCls}-menus`, {\n      [`${mergedPrefixCls}-menu-empty`]: isEmpty,\n      [`${mergedPrefixCls}-rtl`]: rtl\n    }),\n    ref: containerRef\n  }, columnNodes);\n});\nif (process.env.NODE_ENV !== 'production') {\n  RawOptionList.displayName = 'RawOptionList';\n}\nexport default RawOptionList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}