{"ast":null,"code":"import _objectSpread from \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"prefixCls\", \"children\", \"action\", \"showAction\", \"hideAction\", \"popupVisible\", \"defaultPopupVisible\", \"onOpenChange\", \"afterOpenChange\", \"onPopupVisibleChange\", \"afterPopupVisibleChange\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"focusDelay\", \"blurDelay\", \"mask\", \"maskClosable\", \"getPopupContainer\", \"forceRender\", \"autoDestroy\", \"popup\", \"popupClassName\", \"uniqueContainerClassName\", \"uniqueContainerStyle\", \"popupStyle\", \"popupPlacement\", \"builtinPlacements\", \"popupAlign\", \"zIndex\", \"stretch\", \"getPopupClassNameFromAlign\", \"fresh\", \"unique\", \"alignPoint\", \"onPopupClick\", \"onPopupAlign\", \"arrow\", \"popupMotion\", \"maskMotion\", \"mobile\"];\nimport Portal from '@rc-component/portal';\nimport { clsx } from 'clsx';\nimport { useResizeObserver } from '@rc-component/resize-observer';\nimport { getDOM, isDOM } from \"@rc-component/util/es/Dom/findDOMNode\";\nimport { getShadowRoot } from \"@rc-component/util/es/Dom/shadow\";\nimport { getNodeRef, useComposeRef } from \"@rc-component/util/es/ref\";\nimport useEvent from \"@rc-component/util/es/hooks/useEvent\";\nimport useId from \"@rc-component/util/es/hooks/useId\";\nimport useLayoutEffect from \"@rc-component/util/es/hooks/useLayoutEffect\";\nimport * as React from 'react';\nimport Popup from \"./Popup\";\nimport TriggerContext, { UniqueContext } from \"./context\";\nimport useAction from \"./hooks/useAction\";\nimport useAlign from \"./hooks/useAlign\";\nimport useDelay from \"./hooks/useDelay\";\nimport useWatch from \"./hooks/useWatch\";\nimport useWinClick from \"./hooks/useWinClick\";\nimport { getAlignPopupClassName } from \"./util\";\nimport UniqueProvider from \"./UniqueProvider\";\nimport { useControlledState } from '@rc-component/util';\nimport { flushSync } from 'react-dom';\nexport { UniqueProvider };\n\n// Removed Props List\n// Seems this can be auto\n// getDocument?: (element?: HTMLElement) => Document;\n\n// New version will not wrap popup with `rc-trigger-popup-content` when multiple children\n\nexport function generateTrigger() {\n  let PortalComponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Portal;\n  const Trigger = /*#__PURE__*/React.forwardRef((props, ref) => {\n    const {\n        prefixCls = 'rc-trigger-popup',\n        children,\n        // Action\n        action = 'hover',\n        showAction,\n        hideAction,\n        // Open\n        popupVisible,\n        defaultPopupVisible,\n        onOpenChange,\n        afterOpenChange,\n        onPopupVisibleChange,\n        afterPopupVisibleChange,\n        // Delay\n        mouseEnterDelay,\n        mouseLeaveDelay = 0.1,\n        focusDelay,\n        blurDelay,\n        // Mask\n        mask,\n        maskClosable = true,\n        // Portal\n        getPopupContainer,\n        forceRender,\n        autoDestroy,\n        // Popup\n        popup,\n        popupClassName,\n        uniqueContainerClassName,\n        uniqueContainerStyle,\n        popupStyle,\n        popupPlacement,\n        builtinPlacements = {},\n        popupAlign,\n        zIndex,\n        stretch,\n        getPopupClassNameFromAlign,\n        fresh,\n        unique,\n        alignPoint,\n        onPopupClick,\n        onPopupAlign,\n        // Arrow\n        arrow,\n        // Motion\n        popupMotion,\n        maskMotion,\n        // Private\n        mobile\n      } = props,\n      restProps = _objectWithoutProperties(props, _excluded);\n    const mergedAutoDestroy = autoDestroy || false;\n    const openUncontrolled = popupVisible === undefined;\n\n    // =========================== Mobile ===========================\n    const isMobile = !!mobile;\n\n    // ========================== Context ===========================\n    const subPopupElements = React.useRef({});\n    const parentContext = React.useContext(TriggerContext);\n    const context = React.useMemo(() => {\n      return {\n        registerSubPopup: (id, subPopupEle) => {\n          subPopupElements.current[id] = subPopupEle;\n          parentContext === null || parentContext === void 0 || parentContext.registerSubPopup(id, subPopupEle);\n        }\n      };\n    }, [parentContext]);\n\n    // ======================== UniqueContext =========================\n    const uniqueContext = React.useContext(UniqueContext);\n\n    // =========================== Popup ============================\n    const id = useId();\n    const [popupEle, setPopupEle] = React.useState(null);\n\n    // Used for forwardRef popup. Not use internal\n    const externalPopupRef = React.useRef(null);\n    const setPopupRef = useEvent(node => {\n      externalPopupRef.current = node;\n      if (isDOM(node) && popupEle !== node) {\n        setPopupEle(node);\n      }\n      parentContext === null || parentContext === void 0 || parentContext.registerSubPopup(id, node);\n    });\n\n    // =========================== Target ===========================\n    // Use state to control here since `useRef` update not trigger render\n    const [targetEle, setTargetEle] = React.useState(null);\n\n    // Used for forwardRef target. Not use internal\n    const externalForwardRef = React.useRef(null);\n    const setTargetRef = useEvent(node => {\n      const domNode = getDOM(node);\n      if (isDOM(domNode) && targetEle !== domNode) {\n        setTargetEle(domNode);\n        externalForwardRef.current = domNode;\n      }\n    });\n    const cloneProps = {};\n    const inPopupOrChild = useEvent(ele => {\n      var _getShadowRoot, _getShadowRoot2;\n      const childDOM = targetEle;\n      return (childDOM === null || childDOM === void 0 ? void 0 : childDOM.contains(ele)) || ((_getShadowRoot = getShadowRoot(childDOM)) === null || _getShadowRoot === void 0 ? void 0 : _getShadowRoot.host) === ele || ele === childDOM || (popupEle === null || popupEle === void 0 ? void 0 : popupEle.contains(ele)) || ((_getShadowRoot2 = getShadowRoot(popupEle)) === null || _getShadowRoot2 === void 0 ? void 0 : _getShadowRoot2.host) === ele || ele === popupEle || Object.values(subPopupElements.current).some(subPopupEle => (subPopupEle === null || subPopupEle === void 0 ? void 0 : subPopupEle.contains(ele)) || ele === subPopupEle);\n    });\n\n    // =========================== Arrow ============================\n    const innerArrow = arrow ? _objectSpread({}, arrow !== true ? arrow : {}) : null;\n\n    // ============================ Open ============================\n    const [internalOpen, setInternalOpen] = useControlledState(defaultPopupVisible || false, popupVisible);\n    const mergedOpen = internalOpen || false;\n\n    // ========================== Children ==========================\n    const child = React.useMemo(() => {\n      const nextChild = typeof children === 'function' ? children({\n        open: mergedOpen\n      }) : children;\n      return React.Children.only(nextChild);\n    }, [children, mergedOpen]);\n    const originChildProps = (child === null || child === void 0 ? void 0 : child.props) || {};\n\n    // Support ref\n    const isOpen = useEvent(() => mergedOpen);\n\n    // Extract common options for UniqueProvider\n    const getUniqueOptions = useEvent(function () {\n      let delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      return {\n        popup,\n        target: targetEle,\n        delay,\n        prefixCls,\n        popupClassName,\n        uniqueContainerClassName,\n        uniqueContainerStyle,\n        popupStyle,\n        popupPlacement,\n        builtinPlacements,\n        popupAlign,\n        zIndex,\n        mask,\n        maskClosable,\n        popupMotion,\n        maskMotion,\n        arrow: innerArrow,\n        getPopupContainer,\n        getPopupClassNameFromAlign,\n        id,\n        onEsc\n      };\n    });\n\n    // Handle controlled state changes for UniqueProvider\n    // Only sync to UniqueProvider when it's controlled mode\n    // If there is a parentContext, don't call uniqueContext methods\n    useLayoutEffect(() => {\n      if (uniqueContext && unique && targetEle && !openUncontrolled && !parentContext) {\n        if (mergedOpen) {\n          uniqueContext.show(getUniqueOptions(mouseEnterDelay), isOpen);\n        } else {\n          uniqueContext.hide(mouseLeaveDelay);\n        }\n      }\n    }, [mergedOpen, targetEle]);\n    const openRef = React.useRef(mergedOpen);\n    openRef.current = mergedOpen;\n    const internalTriggerOpen = useEvent(nextOpen => {\n      flushSync(() => {\n        if (mergedOpen !== nextOpen) {\n          setInternalOpen(nextOpen);\n          onOpenChange === null || onOpenChange === void 0 || onOpenChange(nextOpen);\n          onPopupVisibleChange === null || onPopupVisibleChange === void 0 || onPopupVisibleChange(nextOpen);\n        }\n      });\n    });\n\n    // Trigger for delay\n    const delayInvoke = useDelay();\n    const triggerOpen = function (nextOpen) {\n      let delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      // If it's controlled mode, always use internal trigger logic\n      // UniqueProvider will be synced through useLayoutEffect\n      if (popupVisible !== undefined) {\n        delayInvoke(() => {\n          internalTriggerOpen(nextOpen);\n        }, delay);\n        return;\n      }\n\n      // If UniqueContext exists and not controlled, pass delay to Provider instead of handling it internally\n      // If there is a parentContext, don't call uniqueContext methods\n      if (uniqueContext && unique && openUncontrolled && !parentContext) {\n        if (nextOpen) {\n          uniqueContext.show(getUniqueOptions(delay), isOpen);\n        } else {\n          uniqueContext.hide(delay);\n        }\n        return;\n      }\n      delayInvoke(() => {\n        internalTriggerOpen(nextOpen);\n      }, delay);\n    };\n    function onEsc(_ref) {\n      let {\n        top\n      } = _ref;\n      if (top) {\n        triggerOpen(false);\n      }\n    }\n\n    // ========================== Motion ============================\n    const [inMotion, setInMotion] = React.useState(false);\n    useLayoutEffect(firstMount => {\n      if (!firstMount || mergedOpen) {\n        setInMotion(true);\n      }\n    }, [mergedOpen]);\n    const [motionPrepareResolve, setMotionPrepareResolve] = React.useState(null);\n\n    // =========================== Align ============================\n    const [mousePos, setMousePos] = React.useState(null);\n    const setMousePosByEvent = event => {\n      setMousePos([event.clientX, event.clientY]);\n    };\n    const [ready, offsetX, offsetY, offsetR, offsetB, arrowX, arrowY, scaleX, scaleY, alignInfo, onAlign] = useAlign(mergedOpen, popupEle, alignPoint && mousePos !== null ? mousePos : targetEle, popupPlacement, builtinPlacements, popupAlign, onPopupAlign, isMobile);\n    const [showActions, hideActions] = useAction(action, showAction, hideAction);\n    const clickToShow = showActions.has('click');\n    const clickToHide = hideActions.has('click') || hideActions.has('contextMenu');\n    const triggerAlign = useEvent(() => {\n      if (!inMotion) {\n        onAlign();\n      }\n    });\n    const onScroll = () => {\n      if (openRef.current && alignPoint && clickToHide) {\n        triggerOpen(false);\n      }\n    };\n    useWatch(mergedOpen, targetEle, popupEle, triggerAlign, onScroll);\n    useLayoutEffect(() => {\n      triggerAlign();\n    }, [mousePos, popupPlacement]);\n\n    // When no builtinPlacements and popupAlign changed\n    useLayoutEffect(() => {\n      if (mergedOpen && !(builtinPlacements !== null && builtinPlacements !== void 0 && builtinPlacements[popupPlacement])) {\n        triggerAlign();\n      }\n    }, [JSON.stringify(popupAlign)]);\n    const alignedClassName = React.useMemo(() => {\n      const baseClassName = getAlignPopupClassName(builtinPlacements, prefixCls, alignInfo, alignPoint);\n      return clsx(baseClassName, getPopupClassNameFromAlign === null || getPopupClassNameFromAlign === void 0 ? void 0 : getPopupClassNameFromAlign(alignInfo));\n    }, [alignInfo, getPopupClassNameFromAlign, builtinPlacements, prefixCls, alignPoint]);\n\n    // ============================ Refs ============================\n    React.useImperativeHandle(ref, () => ({\n      nativeElement: externalForwardRef.current,\n      popupElement: externalPopupRef.current,\n      forceAlign: triggerAlign\n    }));\n\n    // ========================== Stretch ===========================\n    const [targetWidth, setTargetWidth] = React.useState(0);\n    const [targetHeight, setTargetHeight] = React.useState(0);\n    const syncTargetSize = () => {\n      if (stretch && targetEle) {\n        const rect = targetEle.getBoundingClientRect();\n        setTargetWidth(rect.width);\n        setTargetHeight(rect.height);\n      }\n    };\n    const onTargetResize = () => {\n      syncTargetSize();\n      triggerAlign();\n    };\n\n    // ========================== Motion ============================\n    const onVisibleChanged = visible => {\n      setInMotion(false);\n      onAlign();\n      afterOpenChange === null || afterOpenChange === void 0 || afterOpenChange(visible);\n      afterPopupVisibleChange === null || afterPopupVisibleChange === void 0 || afterPopupVisibleChange(visible);\n    };\n\n    // We will trigger align when motion is in prepare\n    const onPrepare = () => new Promise(resolve => {\n      syncTargetSize();\n      setMotionPrepareResolve(() => resolve);\n    });\n    useLayoutEffect(() => {\n      if (motionPrepareResolve) {\n        onAlign();\n        motionPrepareResolve();\n        setMotionPrepareResolve(null);\n      }\n    }, [motionPrepareResolve]);\n\n    // =========================== Action ===========================\n    /**\n     * Util wrapper for trigger action\n     * @param eventName  Listen event name\n     * @param nextOpen  Next open state after trigger\n     * @param delay Delay to trigger open change\n     * @param callback Callback if current event need additional action\n     * @param ignoreCheck  Ignore current event if check return true\n     */\n    function wrapperAction(eventName, nextOpen, delay, callback, ignoreCheck) {\n      cloneProps[eventName] = function (event) {\n        var _originChildProps$eve;\n        if (!ignoreCheck || !ignoreCheck()) {\n          callback === null || callback === void 0 || callback(event);\n          triggerOpen(nextOpen, delay);\n        }\n\n        // Pass to origin\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        (_originChildProps$eve = originChildProps[eventName]) === null || _originChildProps$eve === void 0 || _originChildProps$eve.call(originChildProps, event, ...args);\n      };\n    }\n\n    // ======================= Action: Touch ========================\n    const touchToShow = showActions.has('touch');\n    const touchToHide = hideActions.has('touch');\n\n    /** Used for prevent `hover` event conflict with mobile env */\n    const touchedRef = React.useRef(false);\n    if (touchToShow || touchToHide) {\n      cloneProps.onTouchStart = function () {\n        var _originChildProps$onT;\n        touchedRef.current = true;\n        if (openRef.current && touchToHide) {\n          triggerOpen(false);\n        } else if (!openRef.current && touchToShow) {\n          triggerOpen(true);\n        }\n\n        // Pass to origin\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        (_originChildProps$onT = originChildProps.onTouchStart) === null || _originChildProps$onT === void 0 || _originChildProps$onT.call(originChildProps, ...args);\n      };\n    }\n\n    // ======================= Action: Click ========================\n    if (clickToShow || clickToHide) {\n      cloneProps.onClick = function (event) {\n        var _originChildProps$onC;\n        if (openRef.current && clickToHide) {\n          triggerOpen(false);\n        } else if (!openRef.current && clickToShow) {\n          setMousePosByEvent(event);\n          triggerOpen(true);\n        }\n\n        // Pass to origin\n        for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          args[_key3 - 1] = arguments[_key3];\n        }\n        (_originChildProps$onC = originChildProps.onClick) === null || _originChildProps$onC === void 0 || _originChildProps$onC.call(originChildProps, event, ...args);\n        touchedRef.current = false;\n      };\n    }\n\n    // Click to hide is special action since click popup element should not hide\n    const onPopupPointerDown = useWinClick(mergedOpen, clickToHide || touchToHide, targetEle, popupEle, mask, maskClosable, inPopupOrChild, triggerOpen);\n\n    // ======================= Action: Hover ========================\n    const hoverToShow = showActions.has('hover');\n    const hoverToHide = hideActions.has('hover');\n    let onPopupMouseEnter;\n    let onPopupMouseLeave;\n    const ignoreMouseTrigger = () => {\n      return touchedRef.current;\n    };\n    if (hoverToShow) {\n      const onMouseEnterCallback = event => {\n        setMousePosByEvent(event);\n      };\n\n      // Compatible with old browser which not support pointer event\n      wrapperAction('onMouseEnter', true, mouseEnterDelay, onMouseEnterCallback, ignoreMouseTrigger);\n      wrapperAction('onPointerEnter', true, mouseEnterDelay, onMouseEnterCallback, ignoreMouseTrigger);\n      onPopupMouseEnter = event => {\n        // Only trigger re-open when popup is visible\n        if ((mergedOpen || inMotion) && popupEle !== null && popupEle !== void 0 && popupEle.contains(event.target)) {\n          triggerOpen(true, mouseEnterDelay);\n        }\n      };\n\n      // Align Point\n      if (alignPoint) {\n        cloneProps.onMouseMove = event => {\n          var _originChildProps$onM;\n          (_originChildProps$onM = originChildProps.onMouseMove) === null || _originChildProps$onM === void 0 || _originChildProps$onM.call(originChildProps, event);\n        };\n      }\n    }\n    if (hoverToHide) {\n      wrapperAction('onMouseLeave', false, mouseLeaveDelay, undefined, ignoreMouseTrigger);\n      wrapperAction('onPointerLeave', false, mouseLeaveDelay, undefined, ignoreMouseTrigger);\n      onPopupMouseLeave = () => {\n        triggerOpen(false, mouseLeaveDelay);\n      };\n    }\n\n    // ======================= Action: Focus ========================\n    if (showActions.has('focus')) {\n      wrapperAction('onFocus', true, focusDelay);\n    }\n    if (hideActions.has('focus')) {\n      wrapperAction('onBlur', false, blurDelay);\n    }\n\n    // ==================== Action: ContextMenu =====================\n    if (showActions.has('contextMenu')) {\n      cloneProps.onContextMenu = function (event) {\n        var _originChildProps$onC2;\n        if (openRef.current && hideActions.has('contextMenu')) {\n          triggerOpen(false);\n        } else {\n          setMousePosByEvent(event);\n          triggerOpen(true);\n        }\n        event.preventDefault();\n\n        // Pass to origin\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n        (_originChildProps$onC2 = originChildProps.onContextMenu) === null || _originChildProps$onC2 === void 0 || _originChildProps$onC2.call(originChildProps, event, ...args);\n      };\n    }\n\n    // ============================ Perf ============================\n    const rendedRef = React.useRef(false);\n    rendedRef.current || (rendedRef.current = forceRender || mergedOpen || inMotion);\n\n    // =========================== Render ===========================\n    const mergedChildrenProps = _objectSpread(_objectSpread({}, originChildProps), cloneProps);\n\n    // Pass props into cloneProps for nest usage\n    const passedProps = {};\n    const passedEventList = ['onContextMenu', 'onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];\n    passedEventList.forEach(eventName => {\n      if (restProps[eventName]) {\n        passedProps[eventName] = function () {\n          var _mergedChildrenProps$;\n          for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            args[_key5] = arguments[_key5];\n          }\n          (_mergedChildrenProps$ = mergedChildrenProps[eventName]) === null || _mergedChildrenProps$ === void 0 || _mergedChildrenProps$.call(mergedChildrenProps, ...args);\n          restProps[eventName](...args);\n        };\n      }\n    });\n    const arrowPos = {\n      x: arrowX,\n      y: arrowY\n    };\n\n    // =================== Resize Observer ===================\n    // Use hook to observe target element resize\n    // Pass targetEle directly instead of a function so the hook will re-observe when target changes\n    useResizeObserver(mergedOpen, targetEle, onTargetResize);\n\n    // Compose refs\n    const mergedRef = useComposeRef(setTargetRef, getNodeRef(child));\n\n    // Child Node\n    const triggerNode = /*#__PURE__*/React.cloneElement(child, _objectSpread(_objectSpread(_objectSpread({}, mergedChildrenProps), passedProps), {}, {\n      ref: mergedRef\n    }));\n\n    // Render\n    return /*#__PURE__*/React.createElement(React.Fragment, null, triggerNode, rendedRef.current && (!uniqueContext || !unique) && /*#__PURE__*/React.createElement(TriggerContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React.createElement(Popup, {\n      portal: PortalComponent,\n      ref: setPopupRef,\n      prefixCls: prefixCls,\n      popup: popup,\n      className: clsx(popupClassName, !isMobile && alignedClassName),\n      style: popupStyle,\n      target: targetEle,\n      onMouseEnter: onPopupMouseEnter,\n      onMouseLeave: onPopupMouseLeave\n      // https://github.com/ant-design/ant-design/issues/43924\n      ,\n\n      onPointerEnter: onPopupMouseEnter,\n      zIndex: zIndex\n      // Open\n      ,\n\n      open: mergedOpen,\n      keepDom: inMotion,\n      fresh: fresh\n      // Click\n      ,\n\n      onClick: onPopupClick,\n      onPointerDownCapture: onPopupPointerDown\n      // Mask\n      ,\n\n      mask: mask\n      // Motion\n      ,\n\n      motion: popupMotion,\n      maskMotion: maskMotion,\n      onVisibleChanged: onVisibleChanged,\n      onPrepare: onPrepare\n      // Portal\n      ,\n\n      forceRender: forceRender,\n      autoDestroy: mergedAutoDestroy,\n      getPopupContainer: getPopupContainer,\n      onEsc: onEsc\n      // Arrow\n      ,\n\n      align: alignInfo,\n      arrow: innerArrow,\n      arrowPos: arrowPos\n      // Align\n      ,\n\n      ready: ready,\n      offsetX: offsetX,\n      offsetY: offsetY,\n      offsetR: offsetR,\n      offsetB: offsetB,\n      onAlign: triggerAlign\n      // Stretch\n      ,\n\n      stretch: stretch,\n      targetWidth: targetWidth / scaleX,\n      targetHeight: targetHeight / scaleY\n      // Mobile\n      ,\n\n      mobile: mobile\n    })));\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    Trigger.displayName = 'Trigger';\n  }\n  return Trigger;\n}\nexport default generateTrigger(Portal);","map":{"version":3,"names":["Portal","clsx","useResizeObserver","getDOM","isDOM","getShadowRoot","getNodeRef","useComposeRef","useEvent","useId","useLayoutEffect","React","Popup","TriggerContext","UniqueContext","useAction","useAlign","useDelay","useWatch","useWinClick","getAlignPopupClassName","UniqueProvider","useControlledState","flushSync","generateTrigger","PortalComponent","arguments","length","undefined","Trigger","forwardRef","props","ref","prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onOpenChange","afterOpenChange","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","popup","popupClassName","uniqueContainerClassName","uniqueContainerStyle","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","unique","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","mobile","restProps","_objectWithoutProperties","_excluded","mergedAutoDestroy","openUncontrolled","isMobile","subPopupElements","useRef","parentContext","useContext","context","useMemo","registerSubPopup","id","subPopupEle","current","uniqueContext","popupEle","setPopupEle","useState","externalPopupRef","setPopupRef","node","targetEle","setTargetEle","externalForwardRef","setTargetRef","domNode","cloneProps","inPopupOrChild","ele","_getShadowRoot","_getShadowRoot2","childDOM","contains","host","Object","values","some","innerArrow","_objectSpread","internalOpen","setInternalOpen","mergedOpen","child","nextChild","open","Children","only","originChildProps","isOpen","getUniqueOptions","delay","target","onEsc","show","hide","openRef","internalTriggerOpen","nextOpen","delayInvoke","triggerOpen","_ref","top","inMotion","setInMotion","firstMount","motionPrepareResolve","setMotionPrepareResolve","mousePos","setMousePos","setMousePosByEvent","event","clientX","clientY","ready","offsetX","offsetY","offsetR","offsetB","arrowX","arrowY","scaleX","scaleY","alignInfo","onAlign","showActions","hideActions","clickToShow","has","clickToHide","triggerAlign","onScroll","JSON","stringify","alignedClassName","baseClassName","useImperativeHandle","nativeElement","popupElement","forceAlign","targetWidth","setTargetWidth","targetHeight","setTargetHeight","syncTargetSize","rect","getBoundingClientRect","width","height","onTargetResize","onVisibleChanged","visible","onPrepare","Promise","resolve","wrapperAction","eventName","callback","ignoreCheck","_originChildProps$eve","_len","args","Array","_key","call","touchToShow","touchToHide","touchedRef","onTouchStart","_originChildProps$onT","_len2","_key2","onClick","_originChildProps$onC","_len3","_key3","onPopupPointerDown","hoverToShow","hoverToHide","onPopupMouseEnter","onPopupMouseLeave","ignoreMouseTrigger","onMouseEnterCallback","onMouseMove","_originChildProps$onM","onContextMenu","_originChildProps$onC2","preventDefault","_len4","_key4","rendedRef","mergedChildrenProps","passedProps","passedEventList","forEach","_mergedChildrenProps$","_len5","_key5","arrowPos","x","y","mergedRef","triggerNode","cloneElement","createElement","Fragment","Provider","value","portal","className","style","onMouseEnter","onMouseLeave","onPointerEnter","keepDom","onPointerDownCapture","motion","align","process","env","NODE_ENV","displayName"],"sources":["/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@rc-component/trigger/es/index.js"],"sourcesContent":["import Portal from '@rc-component/portal';\nimport { clsx } from 'clsx';\nimport { useResizeObserver } from '@rc-component/resize-observer';\nimport { getDOM, isDOM } from \"@rc-component/util/es/Dom/findDOMNode\";\nimport { getShadowRoot } from \"@rc-component/util/es/Dom/shadow\";\nimport { getNodeRef, useComposeRef } from \"@rc-component/util/es/ref\";\nimport useEvent from \"@rc-component/util/es/hooks/useEvent\";\nimport useId from \"@rc-component/util/es/hooks/useId\";\nimport useLayoutEffect from \"@rc-component/util/es/hooks/useLayoutEffect\";\nimport * as React from 'react';\nimport Popup from \"./Popup\";\nimport TriggerContext, { UniqueContext } from \"./context\";\nimport useAction from \"./hooks/useAction\";\nimport useAlign from \"./hooks/useAlign\";\nimport useDelay from \"./hooks/useDelay\";\nimport useWatch from \"./hooks/useWatch\";\nimport useWinClick from \"./hooks/useWinClick\";\nimport { getAlignPopupClassName } from \"./util\";\nimport UniqueProvider from \"./UniqueProvider\";\nimport { useControlledState } from '@rc-component/util';\nimport { flushSync } from 'react-dom';\nexport { UniqueProvider };\n\n// Removed Props List\n// Seems this can be auto\n// getDocument?: (element?: HTMLElement) => Document;\n\n// New version will not wrap popup with `rc-trigger-popup-content` when multiple children\n\nexport function generateTrigger(PortalComponent = Portal) {\n  const Trigger = /*#__PURE__*/React.forwardRef((props, ref) => {\n    const {\n      prefixCls = 'rc-trigger-popup',\n      children,\n      // Action\n      action = 'hover',\n      showAction,\n      hideAction,\n      // Open\n      popupVisible,\n      defaultPopupVisible,\n      onOpenChange,\n      afterOpenChange,\n      onPopupVisibleChange,\n      afterPopupVisibleChange,\n      // Delay\n      mouseEnterDelay,\n      mouseLeaveDelay = 0.1,\n      focusDelay,\n      blurDelay,\n      // Mask\n      mask,\n      maskClosable = true,\n      // Portal\n      getPopupContainer,\n      forceRender,\n      autoDestroy,\n      // Popup\n      popup,\n      popupClassName,\n      uniqueContainerClassName,\n      uniqueContainerStyle,\n      popupStyle,\n      popupPlacement,\n      builtinPlacements = {},\n      popupAlign,\n      zIndex,\n      stretch,\n      getPopupClassNameFromAlign,\n      fresh,\n      unique,\n      alignPoint,\n      onPopupClick,\n      onPopupAlign,\n      // Arrow\n      arrow,\n      // Motion\n      popupMotion,\n      maskMotion,\n      // Private\n      mobile,\n      ...restProps\n    } = props;\n    const mergedAutoDestroy = autoDestroy || false;\n    const openUncontrolled = popupVisible === undefined;\n\n    // =========================== Mobile ===========================\n    const isMobile = !!mobile;\n\n    // ========================== Context ===========================\n    const subPopupElements = React.useRef({});\n    const parentContext = React.useContext(TriggerContext);\n    const context = React.useMemo(() => {\n      return {\n        registerSubPopup: (id, subPopupEle) => {\n          subPopupElements.current[id] = subPopupEle;\n          parentContext?.registerSubPopup(id, subPopupEle);\n        }\n      };\n    }, [parentContext]);\n\n    // ======================== UniqueContext =========================\n    const uniqueContext = React.useContext(UniqueContext);\n\n    // =========================== Popup ============================\n    const id = useId();\n    const [popupEle, setPopupEle] = React.useState(null);\n\n    // Used for forwardRef popup. Not use internal\n    const externalPopupRef = React.useRef(null);\n    const setPopupRef = useEvent(node => {\n      externalPopupRef.current = node;\n      if (isDOM(node) && popupEle !== node) {\n        setPopupEle(node);\n      }\n      parentContext?.registerSubPopup(id, node);\n    });\n\n    // =========================== Target ===========================\n    // Use state to control here since `useRef` update not trigger render\n    const [targetEle, setTargetEle] = React.useState(null);\n\n    // Used for forwardRef target. Not use internal\n    const externalForwardRef = React.useRef(null);\n    const setTargetRef = useEvent(node => {\n      const domNode = getDOM(node);\n      if (isDOM(domNode) && targetEle !== domNode) {\n        setTargetEle(domNode);\n        externalForwardRef.current = domNode;\n      }\n    });\n    const cloneProps = {};\n    const inPopupOrChild = useEvent(ele => {\n      const childDOM = targetEle;\n      return childDOM?.contains(ele) || getShadowRoot(childDOM)?.host === ele || ele === childDOM || popupEle?.contains(ele) || getShadowRoot(popupEle)?.host === ele || ele === popupEle || Object.values(subPopupElements.current).some(subPopupEle => subPopupEle?.contains(ele) || ele === subPopupEle);\n    });\n\n    // =========================== Arrow ============================\n    const innerArrow = arrow ? {\n      // true and Object likely\n      ...(arrow !== true ? arrow : {})\n    } : null;\n\n    // ============================ Open ============================\n    const [internalOpen, setInternalOpen] = useControlledState(defaultPopupVisible || false, popupVisible);\n    const mergedOpen = internalOpen || false;\n\n    // ========================== Children ==========================\n    const child = React.useMemo(() => {\n      const nextChild = typeof children === 'function' ? children({\n        open: mergedOpen\n      }) : children;\n      return React.Children.only(nextChild);\n    }, [children, mergedOpen]);\n    const originChildProps = child?.props || {};\n\n    // Support ref\n    const isOpen = useEvent(() => mergedOpen);\n\n    // Extract common options for UniqueProvider\n    const getUniqueOptions = useEvent((delay = 0) => ({\n      popup,\n      target: targetEle,\n      delay,\n      prefixCls,\n      popupClassName,\n      uniqueContainerClassName,\n      uniqueContainerStyle,\n      popupStyle,\n      popupPlacement,\n      builtinPlacements,\n      popupAlign,\n      zIndex,\n      mask,\n      maskClosable,\n      popupMotion,\n      maskMotion,\n      arrow: innerArrow,\n      getPopupContainer,\n      getPopupClassNameFromAlign,\n      id,\n      onEsc\n    }));\n\n    // Handle controlled state changes for UniqueProvider\n    // Only sync to UniqueProvider when it's controlled mode\n    // If there is a parentContext, don't call uniqueContext methods\n    useLayoutEffect(() => {\n      if (uniqueContext && unique && targetEle && !openUncontrolled && !parentContext) {\n        if (mergedOpen) {\n          uniqueContext.show(getUniqueOptions(mouseEnterDelay), isOpen);\n        } else {\n          uniqueContext.hide(mouseLeaveDelay);\n        }\n      }\n    }, [mergedOpen, targetEle]);\n    const openRef = React.useRef(mergedOpen);\n    openRef.current = mergedOpen;\n    const internalTriggerOpen = useEvent(nextOpen => {\n      flushSync(() => {\n        if (mergedOpen !== nextOpen) {\n          setInternalOpen(nextOpen);\n          onOpenChange?.(nextOpen);\n          onPopupVisibleChange?.(nextOpen);\n        }\n      });\n    });\n\n    // Trigger for delay\n    const delayInvoke = useDelay();\n    const triggerOpen = (nextOpen, delay = 0) => {\n      // If it's controlled mode, always use internal trigger logic\n      // UniqueProvider will be synced through useLayoutEffect\n      if (popupVisible !== undefined) {\n        delayInvoke(() => {\n          internalTriggerOpen(nextOpen);\n        }, delay);\n        return;\n      }\n\n      // If UniqueContext exists and not controlled, pass delay to Provider instead of handling it internally\n      // If there is a parentContext, don't call uniqueContext methods\n      if (uniqueContext && unique && openUncontrolled && !parentContext) {\n        if (nextOpen) {\n          uniqueContext.show(getUniqueOptions(delay), isOpen);\n        } else {\n          uniqueContext.hide(delay);\n        }\n        return;\n      }\n      delayInvoke(() => {\n        internalTriggerOpen(nextOpen);\n      }, delay);\n    };\n    function onEsc({\n      top\n    }) {\n      if (top) {\n        triggerOpen(false);\n      }\n    }\n\n    // ========================== Motion ============================\n    const [inMotion, setInMotion] = React.useState(false);\n    useLayoutEffect(firstMount => {\n      if (!firstMount || mergedOpen) {\n        setInMotion(true);\n      }\n    }, [mergedOpen]);\n    const [motionPrepareResolve, setMotionPrepareResolve] = React.useState(null);\n\n    // =========================== Align ============================\n    const [mousePos, setMousePos] = React.useState(null);\n    const setMousePosByEvent = event => {\n      setMousePos([event.clientX, event.clientY]);\n    };\n    const [ready, offsetX, offsetY, offsetR, offsetB, arrowX, arrowY, scaleX, scaleY, alignInfo, onAlign] = useAlign(mergedOpen, popupEle, alignPoint && mousePos !== null ? mousePos : targetEle, popupPlacement, builtinPlacements, popupAlign, onPopupAlign, isMobile);\n    const [showActions, hideActions] = useAction(action, showAction, hideAction);\n    const clickToShow = showActions.has('click');\n    const clickToHide = hideActions.has('click') || hideActions.has('contextMenu');\n    const triggerAlign = useEvent(() => {\n      if (!inMotion) {\n        onAlign();\n      }\n    });\n    const onScroll = () => {\n      if (openRef.current && alignPoint && clickToHide) {\n        triggerOpen(false);\n      }\n    };\n    useWatch(mergedOpen, targetEle, popupEle, triggerAlign, onScroll);\n    useLayoutEffect(() => {\n      triggerAlign();\n    }, [mousePos, popupPlacement]);\n\n    // When no builtinPlacements and popupAlign changed\n    useLayoutEffect(() => {\n      if (mergedOpen && !builtinPlacements?.[popupPlacement]) {\n        triggerAlign();\n      }\n    }, [JSON.stringify(popupAlign)]);\n    const alignedClassName = React.useMemo(() => {\n      const baseClassName = getAlignPopupClassName(builtinPlacements, prefixCls, alignInfo, alignPoint);\n      return clsx(baseClassName, getPopupClassNameFromAlign?.(alignInfo));\n    }, [alignInfo, getPopupClassNameFromAlign, builtinPlacements, prefixCls, alignPoint]);\n\n    // ============================ Refs ============================\n    React.useImperativeHandle(ref, () => ({\n      nativeElement: externalForwardRef.current,\n      popupElement: externalPopupRef.current,\n      forceAlign: triggerAlign\n    }));\n\n    // ========================== Stretch ===========================\n    const [targetWidth, setTargetWidth] = React.useState(0);\n    const [targetHeight, setTargetHeight] = React.useState(0);\n    const syncTargetSize = () => {\n      if (stretch && targetEle) {\n        const rect = targetEle.getBoundingClientRect();\n        setTargetWidth(rect.width);\n        setTargetHeight(rect.height);\n      }\n    };\n    const onTargetResize = () => {\n      syncTargetSize();\n      triggerAlign();\n    };\n\n    // ========================== Motion ============================\n    const onVisibleChanged = visible => {\n      setInMotion(false);\n      onAlign();\n      afterOpenChange?.(visible);\n      afterPopupVisibleChange?.(visible);\n    };\n\n    // We will trigger align when motion is in prepare\n    const onPrepare = () => new Promise(resolve => {\n      syncTargetSize();\n      setMotionPrepareResolve(() => resolve);\n    });\n    useLayoutEffect(() => {\n      if (motionPrepareResolve) {\n        onAlign();\n        motionPrepareResolve();\n        setMotionPrepareResolve(null);\n      }\n    }, [motionPrepareResolve]);\n\n    // =========================== Action ===========================\n    /**\n     * Util wrapper for trigger action\n     * @param eventName  Listen event name\n     * @param nextOpen  Next open state after trigger\n     * @param delay Delay to trigger open change\n     * @param callback Callback if current event need additional action\n     * @param ignoreCheck  Ignore current event if check return true\n     */\n    function wrapperAction(eventName, nextOpen, delay, callback, ignoreCheck) {\n      cloneProps[eventName] = (event, ...args) => {\n        if (!ignoreCheck || !ignoreCheck()) {\n          callback?.(event);\n          triggerOpen(nextOpen, delay);\n        }\n\n        // Pass to origin\n        originChildProps[eventName]?.(event, ...args);\n      };\n    }\n\n    // ======================= Action: Touch ========================\n    const touchToShow = showActions.has('touch');\n    const touchToHide = hideActions.has('touch');\n\n    /** Used for prevent `hover` event conflict with mobile env */\n    const touchedRef = React.useRef(false);\n    if (touchToShow || touchToHide) {\n      cloneProps.onTouchStart = (...args) => {\n        touchedRef.current = true;\n        if (openRef.current && touchToHide) {\n          triggerOpen(false);\n        } else if (!openRef.current && touchToShow) {\n          triggerOpen(true);\n        }\n\n        // Pass to origin\n        originChildProps.onTouchStart?.(...args);\n      };\n    }\n\n    // ======================= Action: Click ========================\n    if (clickToShow || clickToHide) {\n      cloneProps.onClick = (event, ...args) => {\n        if (openRef.current && clickToHide) {\n          triggerOpen(false);\n        } else if (!openRef.current && clickToShow) {\n          setMousePosByEvent(event);\n          triggerOpen(true);\n        }\n\n        // Pass to origin\n        originChildProps.onClick?.(event, ...args);\n        touchedRef.current = false;\n      };\n    }\n\n    // Click to hide is special action since click popup element should not hide\n    const onPopupPointerDown = useWinClick(mergedOpen, clickToHide || touchToHide, targetEle, popupEle, mask, maskClosable, inPopupOrChild, triggerOpen);\n\n    // ======================= Action: Hover ========================\n    const hoverToShow = showActions.has('hover');\n    const hoverToHide = hideActions.has('hover');\n    let onPopupMouseEnter;\n    let onPopupMouseLeave;\n    const ignoreMouseTrigger = () => {\n      return touchedRef.current;\n    };\n    if (hoverToShow) {\n      const onMouseEnterCallback = event => {\n        setMousePosByEvent(event);\n      };\n\n      // Compatible with old browser which not support pointer event\n      wrapperAction('onMouseEnter', true, mouseEnterDelay, onMouseEnterCallback, ignoreMouseTrigger);\n      wrapperAction('onPointerEnter', true, mouseEnterDelay, onMouseEnterCallback, ignoreMouseTrigger);\n      onPopupMouseEnter = event => {\n        // Only trigger re-open when popup is visible\n        if ((mergedOpen || inMotion) && popupEle?.contains(event.target)) {\n          triggerOpen(true, mouseEnterDelay);\n        }\n      };\n\n      // Align Point\n      if (alignPoint) {\n        cloneProps.onMouseMove = event => {\n          originChildProps.onMouseMove?.(event);\n        };\n      }\n    }\n    if (hoverToHide) {\n      wrapperAction('onMouseLeave', false, mouseLeaveDelay, undefined, ignoreMouseTrigger);\n      wrapperAction('onPointerLeave', false, mouseLeaveDelay, undefined, ignoreMouseTrigger);\n      onPopupMouseLeave = () => {\n        triggerOpen(false, mouseLeaveDelay);\n      };\n    }\n\n    // ======================= Action: Focus ========================\n    if (showActions.has('focus')) {\n      wrapperAction('onFocus', true, focusDelay);\n    }\n    if (hideActions.has('focus')) {\n      wrapperAction('onBlur', false, blurDelay);\n    }\n\n    // ==================== Action: ContextMenu =====================\n    if (showActions.has('contextMenu')) {\n      cloneProps.onContextMenu = (event, ...args) => {\n        if (openRef.current && hideActions.has('contextMenu')) {\n          triggerOpen(false);\n        } else {\n          setMousePosByEvent(event);\n          triggerOpen(true);\n        }\n        event.preventDefault();\n\n        // Pass to origin\n        originChildProps.onContextMenu?.(event, ...args);\n      };\n    }\n\n    // ============================ Perf ============================\n    const rendedRef = React.useRef(false);\n    rendedRef.current ||= forceRender || mergedOpen || inMotion;\n\n    // =========================== Render ===========================\n    const mergedChildrenProps = {\n      ...originChildProps,\n      ...cloneProps\n    };\n\n    // Pass props into cloneProps for nest usage\n    const passedProps = {};\n    const passedEventList = ['onContextMenu', 'onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];\n    passedEventList.forEach(eventName => {\n      if (restProps[eventName]) {\n        passedProps[eventName] = (...args) => {\n          mergedChildrenProps[eventName]?.(...args);\n          restProps[eventName](...args);\n        };\n      }\n    });\n    const arrowPos = {\n      x: arrowX,\n      y: arrowY\n    };\n\n    // =================== Resize Observer ===================\n    // Use hook to observe target element resize\n    // Pass targetEle directly instead of a function so the hook will re-observe when target changes\n    useResizeObserver(mergedOpen, targetEle, onTargetResize);\n\n    // Compose refs\n    const mergedRef = useComposeRef(setTargetRef, getNodeRef(child));\n\n    // Child Node\n    const triggerNode = /*#__PURE__*/React.cloneElement(child, {\n      ...mergedChildrenProps,\n      ...passedProps,\n      ref: mergedRef\n    });\n\n    // Render\n    return /*#__PURE__*/React.createElement(React.Fragment, null, triggerNode, rendedRef.current && (!uniqueContext || !unique) && /*#__PURE__*/React.createElement(TriggerContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React.createElement(Popup, {\n      portal: PortalComponent,\n      ref: setPopupRef,\n      prefixCls: prefixCls,\n      popup: popup,\n      className: clsx(popupClassName, !isMobile && alignedClassName),\n      style: popupStyle,\n      target: targetEle,\n      onMouseEnter: onPopupMouseEnter,\n      onMouseLeave: onPopupMouseLeave\n      // https://github.com/ant-design/ant-design/issues/43924\n      ,\n      onPointerEnter: onPopupMouseEnter,\n      zIndex: zIndex\n      // Open\n      ,\n      open: mergedOpen,\n      keepDom: inMotion,\n      fresh: fresh\n      // Click\n      ,\n      onClick: onPopupClick,\n      onPointerDownCapture: onPopupPointerDown\n      // Mask\n      ,\n      mask: mask\n      // Motion\n      ,\n      motion: popupMotion,\n      maskMotion: maskMotion,\n      onVisibleChanged: onVisibleChanged,\n      onPrepare: onPrepare\n      // Portal\n      ,\n      forceRender: forceRender,\n      autoDestroy: mergedAutoDestroy,\n      getPopupContainer: getPopupContainer,\n      onEsc: onEsc\n      // Arrow\n      ,\n      align: alignInfo,\n      arrow: innerArrow,\n      arrowPos: arrowPos\n      // Align\n      ,\n      ready: ready,\n      offsetX: offsetX,\n      offsetY: offsetY,\n      offsetR: offsetR,\n      offsetB: offsetB,\n      onAlign: triggerAlign\n      // Stretch\n      ,\n      stretch: stretch,\n      targetWidth: targetWidth / scaleX,\n      targetHeight: targetHeight / scaleY\n      // Mobile\n      ,\n      mobile: mobile\n    })));\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    Trigger.displayName = 'Trigger';\n  }\n  return Trigger;\n}\nexport default generateTrigger(Portal);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}