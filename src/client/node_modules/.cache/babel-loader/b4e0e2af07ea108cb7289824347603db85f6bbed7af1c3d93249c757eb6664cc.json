{"ast":null,"code":"\"use client\";\n\nimport _objectSpread from \"/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport * as React from 'react';\nimport CSSMotion from '@rc-component/motion';\nimport raf from \"@rc-component/util/es/raf\";\nimport { render, unmount } from \"@rc-component/util/es/React/render\";\nimport { composeRef } from \"@rc-component/util/es/ref\";\nimport { clsx } from 'clsx';\nimport { ConfigContext } from '../../config-provider';\nimport { genCssVar } from '../../theme/util/genStyleUtils';\nimport { TARGET_CLS } from './interface';\nimport { getTargetWaveColor } from './util';\nfunction validateNum(value) {\n  return Number.isNaN(value) ? 0 : value;\n}\nconst WaveEffect = props => {\n  const {\n    className,\n    target,\n    component,\n    colorSource\n  } = props;\n  const divRef = React.useRef(null);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const rootPrefixCls = getPrefixCls();\n  const [varName] = genCssVar(rootPrefixCls, 'wave');\n  // ===================== Effect =====================\n  const [color, setWaveColor] = React.useState(null);\n  const [borderRadius, setBorderRadius] = React.useState([]);\n  const [left, setLeft] = React.useState(0);\n  const [top, setTop] = React.useState(0);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const [enabled, setEnabled] = React.useState(false);\n  const waveStyle = {\n    left,\n    top,\n    width,\n    height,\n    borderRadius: borderRadius.map(radius => \"\".concat(radius, \"px\")).join(' ')\n  };\n  if (color) {\n    waveStyle[varName('color')] = color;\n  }\n  function syncPos() {\n    const nodeStyle = getComputedStyle(target);\n    // Get wave color from target\n    setWaveColor(getTargetWaveColor(target, colorSource));\n    const isStatic = nodeStyle.position === 'static';\n    // Rect\n    const {\n      borderLeftWidth,\n      borderTopWidth\n    } = nodeStyle;\n    setLeft(isStatic ? target.offsetLeft : validateNum(-Number.parseFloat(borderLeftWidth)));\n    setTop(isStatic ? target.offsetTop : validateNum(-Number.parseFloat(borderTopWidth)));\n    setWidth(target.offsetWidth);\n    setHeight(target.offsetHeight);\n    // Get border radius\n    const {\n      borderTopLeftRadius,\n      borderTopRightRadius,\n      borderBottomLeftRadius,\n      borderBottomRightRadius\n    } = nodeStyle;\n    setBorderRadius([borderTopLeftRadius, borderTopRightRadius, borderBottomRightRadius, borderBottomLeftRadius].map(radius => validateNum(Number.parseFloat(radius))));\n  }\n  React.useEffect(() => {\n    if (target) {\n      // We need delay to check position here\n      // since UI may change after click\n      const id = raf(() => {\n        syncPos();\n        setEnabled(true);\n      });\n      // Add resize observer to follow size\n      let resizeObserver;\n      if (typeof ResizeObserver !== 'undefined') {\n        resizeObserver = new ResizeObserver(syncPos);\n        resizeObserver.observe(target);\n      }\n      return () => {\n        var _resizeObserver;\n        raf.cancel(id);\n        (_resizeObserver = resizeObserver) === null || _resizeObserver === void 0 || _resizeObserver.disconnect();\n      };\n    }\n  }, [target]);\n  if (!enabled) {\n    return null;\n  }\n  const isSmallComponent = (component === 'Checkbox' || component === 'Radio') && (target === null || target === void 0 ? void 0 : target.classList.contains(TARGET_CLS));\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionAppear: true,\n    motionName: \"wave-motion\",\n    motionDeadline: 5000,\n    onAppearEnd: (_, event) => {\n      if (event.deadline || event.propertyName === 'opacity') {\n        var _divRef$current;\n        const holder = (_divRef$current = divRef.current) === null || _divRef$current === void 0 ? void 0 : _divRef$current.parentElement;\n        unmount(holder).then(() => {\n          holder === null || holder === void 0 || holder.remove();\n        });\n      }\n      return false;\n    }\n  }, (_ref, ref) => {\n    let {\n      className: motionClassName\n    } = _ref;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: composeRef(divRef, ref),\n      className: clsx(className, motionClassName, {\n        'wave-quick': isSmallComponent\n      }),\n      style: waveStyle\n    });\n  });\n};\nconst showWaveEffect = (target, info) => {\n  var _target$querySelector;\n  const {\n    component\n  } = info;\n  // Skip for unchecked checkbox\n  if (component === 'Checkbox' && !((_target$querySelector = target.querySelector('input')) !== null && _target$querySelector !== void 0 && _target$querySelector.checked)) {\n    return;\n  }\n  // Create holder\n  const holder = document.createElement('div');\n  holder.style.position = 'absolute';\n  holder.style.left = '0px';\n  holder.style.top = '0px';\n  target === null || target === void 0 || target.insertBefore(holder, target === null || target === void 0 ? void 0 : target.firstChild);\n  render(/*#__PURE__*/React.createElement(WaveEffect, _objectSpread(_objectSpread({}, info), {}, {\n    target: target\n  })), holder);\n};\nexport default showWaveEffect;","map":{"version":3,"names":["_objectSpread","React","CSSMotion","raf","render","unmount","composeRef","clsx","ConfigContext","genCssVar","TARGET_CLS","getTargetWaveColor","validateNum","value","Number","isNaN","WaveEffect","props","className","target","component","colorSource","divRef","useRef","getPrefixCls","useContext","rootPrefixCls","varName","color","setWaveColor","useState","borderRadius","setBorderRadius","left","setLeft","top","setTop","width","setWidth","height","setHeight","enabled","setEnabled","waveStyle","map","radius","concat","join","syncPos","nodeStyle","getComputedStyle","isStatic","position","borderLeftWidth","borderTopWidth","offsetLeft","parseFloat","offsetTop","offsetWidth","offsetHeight","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","useEffect","id","resizeObserver","ResizeObserver","observe","_resizeObserver","cancel","disconnect","isSmallComponent","classList","contains","createElement","visible","motionAppear","motionName","motionDeadline","onAppearEnd","_","event","deadline","propertyName","_divRef$current","holder","current","parentElement","then","remove","_ref","ref","motionClassName","style","showWaveEffect","info","_target$querySelector","querySelector","checked","document","insertBefore","firstChild"],"sources":["/Users/ferncliffadmin/clawd/projects/thesalessherpa/src/client/node_modules/antd/es/_util/wave/WaveEffect.js"],"sourcesContent":["\"use client\";\n\nimport * as React from 'react';\nimport CSSMotion from '@rc-component/motion';\nimport raf from \"@rc-component/util/es/raf\";\nimport { render, unmount } from \"@rc-component/util/es/React/render\";\nimport { composeRef } from \"@rc-component/util/es/ref\";\nimport { clsx } from 'clsx';\nimport { ConfigContext } from '../../config-provider';\nimport { genCssVar } from '../../theme/util/genStyleUtils';\nimport { TARGET_CLS } from './interface';\nimport { getTargetWaveColor } from './util';\nfunction validateNum(value) {\n  return Number.isNaN(value) ? 0 : value;\n}\nconst WaveEffect = props => {\n  const {\n    className,\n    target,\n    component,\n    colorSource\n  } = props;\n  const divRef = React.useRef(null);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const rootPrefixCls = getPrefixCls();\n  const [varName] = genCssVar(rootPrefixCls, 'wave');\n  // ===================== Effect =====================\n  const [color, setWaveColor] = React.useState(null);\n  const [borderRadius, setBorderRadius] = React.useState([]);\n  const [left, setLeft] = React.useState(0);\n  const [top, setTop] = React.useState(0);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const [enabled, setEnabled] = React.useState(false);\n  const waveStyle = {\n    left,\n    top,\n    width,\n    height,\n    borderRadius: borderRadius.map(radius => `${radius}px`).join(' ')\n  };\n  if (color) {\n    waveStyle[varName('color')] = color;\n  }\n  function syncPos() {\n    const nodeStyle = getComputedStyle(target);\n    // Get wave color from target\n    setWaveColor(getTargetWaveColor(target, colorSource));\n    const isStatic = nodeStyle.position === 'static';\n    // Rect\n    const {\n      borderLeftWidth,\n      borderTopWidth\n    } = nodeStyle;\n    setLeft(isStatic ? target.offsetLeft : validateNum(-Number.parseFloat(borderLeftWidth)));\n    setTop(isStatic ? target.offsetTop : validateNum(-Number.parseFloat(borderTopWidth)));\n    setWidth(target.offsetWidth);\n    setHeight(target.offsetHeight);\n    // Get border radius\n    const {\n      borderTopLeftRadius,\n      borderTopRightRadius,\n      borderBottomLeftRadius,\n      borderBottomRightRadius\n    } = nodeStyle;\n    setBorderRadius([borderTopLeftRadius, borderTopRightRadius, borderBottomRightRadius, borderBottomLeftRadius].map(radius => validateNum(Number.parseFloat(radius))));\n  }\n  React.useEffect(() => {\n    if (target) {\n      // We need delay to check position here\n      // since UI may change after click\n      const id = raf(() => {\n        syncPos();\n        setEnabled(true);\n      });\n      // Add resize observer to follow size\n      let resizeObserver;\n      if (typeof ResizeObserver !== 'undefined') {\n        resizeObserver = new ResizeObserver(syncPos);\n        resizeObserver.observe(target);\n      }\n      return () => {\n        raf.cancel(id);\n        resizeObserver?.disconnect();\n      };\n    }\n  }, [target]);\n  if (!enabled) {\n    return null;\n  }\n  const isSmallComponent = (component === 'Checkbox' || component === 'Radio') && target?.classList.contains(TARGET_CLS);\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionAppear: true,\n    motionName: \"wave-motion\",\n    motionDeadline: 5000,\n    onAppearEnd: (_, event) => {\n      if (event.deadline || event.propertyName === 'opacity') {\n        const holder = divRef.current?.parentElement;\n        unmount(holder).then(() => {\n          holder?.remove();\n        });\n      }\n      return false;\n    }\n  }, ({\n    className: motionClassName\n  }, ref) => (/*#__PURE__*/React.createElement(\"div\", {\n    ref: composeRef(divRef, ref),\n    className: clsx(className, motionClassName, {\n      'wave-quick': isSmallComponent\n    }),\n    style: waveStyle\n  })));\n};\nconst showWaveEffect = (target, info) => {\n  const {\n    component\n  } = info;\n  // Skip for unchecked checkbox\n  if (component === 'Checkbox' && !target.querySelector('input')?.checked) {\n    return;\n  }\n  // Create holder\n  const holder = document.createElement('div');\n  holder.style.position = 'absolute';\n  holder.style.left = '0px';\n  holder.style.top = '0px';\n  target?.insertBefore(holder, target?.firstChild);\n  render(/*#__PURE__*/React.createElement(WaveEffect, {\n    ...info,\n    target: target\n  }), holder);\n};\nexport default showWaveEffect;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}